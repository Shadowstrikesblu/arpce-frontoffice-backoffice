2026-02-12 09:51:59.914 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 09:51:59.979 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 09:52:00.331 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 09:52:00.351 +01:00 [INF] Hosting environment: Development
2026-02-12 09:52:00.360 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 10:02:30.413 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 10:02:30.457 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 10:02:30.552 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 10:02:30.556 +01:00 [INF] Hosting environment: Development
2026-02-12 10:02:30.558 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 10:14:38.450 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 10:14:38.487 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 10:14:38.575 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 10:14:38.578 +01:00 [INF] Hosting environment: Development
2026-02-12 10:14:38.580 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 10:15:08.662 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 10:15:14.856 +01:00 [INF] Executed DbCommand (207ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 10:15:15.427 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 10:18:26.262 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_DemandeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[StatutId], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [demandes] AS [d]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [d].[Id] = @__request_DemandeId_0
2026-02-12 10:18:26.421 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_CategorieId_Value_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Code], [c].[DateCreation], [c].[DateModification], [c].[FormuleHomologation], [c].[FraisControle], [c].[FraisEtude], [c].[FraisHomologation], [c].[FraisHomologationParLot], [c].[FraisHomologationQuantiteParLot], [c].[Libelle], [c].[QuantiteReference], [c].[Remarques], [c].[TypeClient], [c].[TypeEquipement], [c].[UtilisateurCreation], [c].[UtilisateurModification]
FROM [categoriesEquipements] AS [c]
WHERE [c].[Id] = @__request_CategorieId_Value_0
2026-02-12 10:18:26.508 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = Currency), @p3='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [demandes] SET [DateModification] = @p0, [IdCategorie] = @p1, [PrixUnitaire] = @p2, [UtilisateurModification] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2026-02-12 10:18:26.535 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__eventTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Code], [a].[Libelle]
FROM [adminEvenementsTypes] AS [a]
WHERE [a].[Code] = @__eventTypeCode_0
2026-02-12 10:18:26.582 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
WHERE [a].[Id] = @__p_0
2026-02-12 10:18:26.691 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 120), @p2='?' (Size = 120), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (Size = 255), @p8='?' (Size = 120), @p9='?' (Size = 120)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [adminJournal] ([Id], [AdresseIP], [Application], [DateEvenement], [DossierId], [IdDossier], [IdEvenementType], [Libelle], [Page], [Utilisateur])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-02-12 10:18:26.760 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?' (DbType = Guid), @p13='?' (Size = 4000), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Id], [DateCreation], [DateEnvoi], [DateModification], [EntityId], [IsBroadcast], [IsRead], [Message], [ProfilCode], [TargetUrl], [Title], [Type], [UserId], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-12 10:20:51.539 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_DemandeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[StatutId], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [demandes] AS [d]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [d].[Id] = @__request_DemandeId_0
2026-02-12 10:20:51.552 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_CategorieId_Value_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Code], [c].[DateCreation], [c].[DateModification], [c].[FormuleHomologation], [c].[FraisControle], [c].[FraisEtude], [c].[FraisHomologation], [c].[FraisHomologationParLot], [c].[FraisHomologationQuantiteParLot], [c].[Libelle], [c].[QuantiteReference], [c].[Remarques], [c].[TypeClient], [c].[TypeEquipement], [c].[UtilisateurCreation], [c].[UtilisateurModification]
FROM [categoriesEquipements] AS [c]
WHERE [c].[Id] = @__request_CategorieId_Value_0
2026-02-12 10:21:22.894 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_DemandeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[StatutId], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [demandes] AS [d]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [d].[Id] = @__request_DemandeId_0
2026-02-12 10:21:22.907 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_CategorieId_Value_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Code], [c].[DateCreation], [c].[DateModification], [c].[FormuleHomologation], [c].[FraisControle], [c].[FraisEtude], [c].[FraisHomologation], [c].[FraisHomologationParLot], [c].[FraisHomologationQuantiteParLot], [c].[Libelle], [c].[QuantiteReference], [c].[Remarques], [c].[TypeClient], [c].[TypeEquipement], [c].[UtilisateurCreation], [c].[UtilisateurModification]
FROM [categoriesEquipements] AS [c]
WHERE [c].[Id] = @__request_CategorieId_Value_0
2026-02-12 10:21:22.924 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = Currency), @p3='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [demandes] SET [DateModification] = @p0, [IdCategorie] = @p1, [PrixUnitaire] = @p2, [UtilisateurModification] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2026-02-12 10:21:22.934 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__eventTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Code], [a].[Libelle]
FROM [adminEvenementsTypes] AS [a]
WHERE [a].[Code] = @__eventTypeCode_0
2026-02-12 10:21:22.945 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
WHERE [a].[Id] = @__p_0
2026-02-12 10:21:22.959 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 120), @p2='?' (Size = 120), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (Size = 255), @p8='?' (Size = 120), @p9='?' (Size = 120)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [adminJournal] ([Id], [AdresseIP], [Application], [DateEvenement], [DossierId], [IdDossier], [IdEvenementType], [Libelle], [Page], [Utilisateur])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-02-12 10:21:22.973 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?' (DbType = Guid), @p13='?' (Size = 4000), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Id], [DateCreation], [DateEnvoi], [DateModification], [EntityId], [IsBroadcast], [IsRead], [Message], [ProfilCode], [TargetUrl], [Title], [Type], [UserId], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-12 10:23:06.131 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_DemandeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[StatutId], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [demandes] AS [d]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [d].[Id] = @__request_DemandeId_0
2026-02-12 10:23:06.138 +01:00 [INF] Dissociation de la catégorie pour l'équipement "1b96b525-2c5c-444b-893a-6fc7d2896242"
2026-02-12 10:23:06.148 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = Currency)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [demandes] SET [DateModification] = @p0, [IdCategorie] = @p1, [PrixUnitaire] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2026-02-12 10:23:06.158 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__eventTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Code], [a].[Libelle]
FROM [adminEvenementsTypes] AS [a]
WHERE [a].[Code] = @__eventTypeCode_0
2026-02-12 10:23:06.170 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
WHERE [a].[Id] = @__p_0
2026-02-12 10:23:06.183 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 120), @p2='?' (Size = 120), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (Size = 255), @p8='?' (Size = 120), @p9='?' (Size = 120)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [adminJournal] ([Id], [AdresseIP], [Application], [DateEvenement], [DossierId], [IdDossier], [IdEvenementType], [Libelle], [Page], [Utilisateur])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-02-12 10:23:06.196 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?' (DbType = Guid), @p13='?' (Size = 4000), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Id], [DateCreation], [DateEnvoi], [DateModification], [EntityId], [IsBroadcast], [IsRead], [Message], [ProfilCode], [TargetUrl], [Title], [Type], [UserId], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-12 10:40:06.558 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 10:40:06.644 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 10:40:06.886 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 10:40:06.892 +01:00 [INF] Hosting environment: Development
2026-02-12 10:40:06.938 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 10:40:26.398 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 10:40:30.057 +01:00 [INF] Executed DbCommand (77ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 10:40:31.021 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 10:43:10.600 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EquipementId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[StatutId], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [demandes] AS [d]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [d].[Id] = @__request_EquipementId_0
2026-02-12 10:43:10.735 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_CodeStatut_0='?' (Size = 120)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = @__request_CodeStatut_0
2026-02-12 10:43:10.775 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
WHERE [a].[Id] = @__p_0
2026-02-12 10:43:10.923 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 512), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (DbType = Int64), @p5='?' (DbType = Guid), @p6='?' (Size = 60), @p7='?' (Size = 512), @p8='?' (Size = 60), @p9='?' (Size = 60), @p12='?' (DbType = Guid), @p10='?' (DbType = Int64), @p11='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [commentaires] ([Id], [commentaire], [DateCommentaire], [DateCreation], [DateModification], [IdDossier], [NomInstructeur], [Proposition], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE [demandes] SET [DateModification] = @p10, [IdStatut] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2026-02-12 10:43:10.942 +01:00 [INF] Statut de l'équipement "eb0e4fd1-adda-4c9c-b46e-0b35704765cb" mis à jour vers Echantillon
2026-02-12 10:43:10.960 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__eventTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Code], [a].[Libelle]
FROM [adminEvenementsTypes] AS [a]
WHERE [a].[Code] = @__eventTypeCode_0
2026-02-12 10:43:11.019 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 120), @p2='?' (Size = 120), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (Size = 255), @p8='?' (Size = 120), @p9='?' (Size = 120)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [adminJournal] ([Id], [AdresseIP], [Application], [DateEvenement], [DossierId], [IdDossier], [IdEvenementType], [Libelle], [Page], [Utilisateur])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-02-12 10:43:11.072 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?' (DbType = Guid), @p13='?' (Size = 4000), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Id], [DateCreation], [DateEnvoi], [DateModification], [EntityId], [IsBroadcast], [IsRead], [Message], [ProfilCode], [TargetUrl], [Title], [Type], [UserId], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-12 11:07:04.737 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 11:07:04.780 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 11:07:04.942 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 11:07:04.946 +01:00 [INF] Hosting environment: Development
2026-02-12 11:07:04.951 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 11:07:23.623 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 11:07:26.696 +01:00 [INF] Executed DbCommand (80ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 11:07:27.572 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 11:15:38.889 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [dossiers] AS [d]
2026-02-12 11:15:38.999 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-12 11:15:39.164 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [c].[Id], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation], [c].[DateModification], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation], [c].[UtilisateurModification], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id], [s].[Code], [s].[Libelle], [d1].[Id], [d1].[DateCreation], [d1].[DateModification], [d1].[Donnees], [d1].[Extension], [d1].[FilePath], [d1].[IdDossier], [d1].[Nom], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s1].[Id], [s1].[ContactEmail], [s1].[ContactNom], [s1].[DateCreation], [s1].[DateModification], [s1].[Description], [s1].[Equipement], [s1].[EstHomologable], [s1].[Fabricant], [s1].[IdCategorie], [s1].[IdDossier], [s1].[IdMotifRejet], [s1].[IdProposition], [s1].[IdStatut], [s1].[Marque], [s1].[Modele], [s1].[NumeroDemande], [s1].[PrixUnitaire], [s1].[QuantiteEquipements], [s1].[Remise], [s1].[StatutId], [s1].[Type], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Id1], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Donnees], [s1].[Extension], [s1].[FilePath], [s1].[IdDemande], [s1].[Nom], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[Id2], [s1].[DateCreation1], [s1].[DateDelivrance], [s1].[DateExpiration], [s1].[DateModification1], [s1].[Donnees0], [s1].[Extension0], [s1].[IdDemande0], [s1].[NumeroSequentiel], [s1].[UtilisateurCreation1], [s1].[UtilisateurModification1], [s1].[VisaReference], [s1].[Id3], [s1].[Date], [s1].[DateCreation2], [s1].[DateModification2], [s1].[IdDemande1], [s1].[IdDossier0], [s1].[MontantControle], [s1].[MontantEtude], [s1].[MontantHomologation], [s1].[PaiementMobileId], [s1].[PaiementOk], [s1].[UtilisateurCreation2], [s1].[UtilisateurModification2], [s1].[Code], [s1].[Libelle]
FROM (
    SELECT [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification]
    FROM [dossiers] AS [d]
    ORDER BY [d].[DateCreation] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d0]
INNER JOIN [clients] AS [c] ON [d0].[IdClient] = [c].[Id]
INNER JOIN [statuts] AS [s] ON [d0].[IdStatut] = [s].[Id]
LEFT JOIN [documentsDossiers] AS [d1] ON [d0].[Id] = [d1].[IdDossier]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[ContactEmail], [d2].[ContactNom], [d2].[DateCreation], [d2].[DateModification], [d2].[Description], [d2].[Equipement], [d2].[EstHomologable], [d2].[Fabricant], [d2].[IdCategorie], [d2].[IdDossier], [d2].[IdMotifRejet], [d2].[IdProposition], [d2].[IdStatut], [d2].[Marque], [d2].[Modele], [d2].[NumeroDemande], [d2].[PrixUnitaire], [d2].[QuantiteEquipements], [d2].[Remise], [d2].[StatutId], [d2].[Type], [d2].[UtilisateurCreation], [d2].[UtilisateurModification], [s0].[Id] AS [Id0], [d3].[Id] AS [Id1], [d3].[DateCreation] AS [DateCreation0], [d3].[DateModification] AS [DateModification0], [d3].[Donnees], [d3].[Extension], [d3].[FilePath], [d3].[IdDemande], [d3].[Nom], [d3].[UtilisateurCreation] AS [UtilisateurCreation0], [d3].[UtilisateurModification] AS [UtilisateurModification0], [a].[Id] AS [Id2], [a].[DateCreation] AS [DateCreation1], [a].[DateDelivrance], [a].[DateExpiration], [a].[DateModification] AS [DateModification1], [a].[Donnees] AS [Donnees0], [a].[Extension] AS [Extension0], [a].[IdDemande] AS [IdDemande0], [a].[NumeroSequentiel], [a].[UtilisateurCreation] AS [UtilisateurCreation1], [a].[UtilisateurModification] AS [UtilisateurModification1], [a].[VisaReference], [d4].[Id] AS [Id3], [d4].[Date], [d4].[DateCreation] AS [DateCreation2], [d4].[DateModification] AS [DateModification2], [d4].[IdDemande] AS [IdDemande1], [d4].[IdDossier] AS [IdDossier0], [d4].[MontantControle], [d4].[MontantEtude], [d4].[MontantHomologation], [d4].[PaiementMobileId], [d4].[PaiementOk], [d4].[UtilisateurCreation] AS [UtilisateurCreation2], [d4].[UtilisateurModification] AS [UtilisateurModification2], [s0].[Code], [s0].[Libelle]
    FROM [demandes] AS [d2]
    LEFT JOIN [statuts] AS [s0] ON [d2].[StatutId] = [s0].[Id]
    LEFT JOIN [documentsDemandes] AS [d3] ON [d2].[Id] = [d3].[IdDemande]
    LEFT JOIN [attestations] AS [a] ON [d2].[Id] = [a].[IdDemande]
    LEFT JOIN [devis] AS [d4] ON [d2].[Id] = [d4].[IdDemande]
) AS [s1] ON [d0].[Id] = [s1].[IdDossier]
ORDER BY [d0].[DateCreation] DESC, [d0].[Id], [c].[Id], [s].[Id], [d1].[Id], [s1].[Id], [s1].[Id0], [s1].[Id1], [s1].[Id2]
2026-02-12 11:24:32.983 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 11:24:33.024 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 11:24:33.130 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 11:24:33.147 +01:00 [INF] Hosting environment: Development
2026-02-12 11:24:33.167 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 11:24:49.092 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 11:24:51.395 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 11:24:52.030 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 11:25:30.373 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [dossiers] AS [d]
2026-02-12 11:25:30.434 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-12 11:25:30.488 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [c].[Id], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation], [c].[DateModification], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation], [c].[UtilisateurModification], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id], [s].[Code], [s].[Libelle], [s1].[Id], [s1].[ContactEmail], [s1].[ContactNom], [s1].[DateCreation], [s1].[DateModification], [s1].[Description], [s1].[Equipement], [s1].[EstHomologable], [s1].[Fabricant], [s1].[IdCategorie], [s1].[IdDossier], [s1].[IdMotifRejet], [s1].[IdProposition], [s1].[IdStatut], [s1].[Marque], [s1].[Modele], [s1].[NumeroDemande], [s1].[PrixUnitaire], [s1].[QuantiteEquipements], [s1].[Remise], [s1].[StatutId], [s1].[Type], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Id1], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Donnees], [s1].[Extension], [s1].[FilePath], [s1].[IdDemande], [s1].[Nom], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[Code], [s1].[Libelle]
FROM (
    SELECT [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification]
    FROM [dossiers] AS [d]
    ORDER BY [d].[DateCreation] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d0]
INNER JOIN [clients] AS [c] ON [d0].[IdClient] = [c].[Id]
INNER JOIN [statuts] AS [s] ON [d0].[IdStatut] = [s].[Id]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[StatutId], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [d2].[Id] AS [Id1], [d2].[DateCreation] AS [DateCreation0], [d2].[DateModification] AS [DateModification0], [d2].[Donnees], [d2].[Extension], [d2].[FilePath], [d2].[IdDemande], [d2].[Nom], [d2].[UtilisateurCreation] AS [UtilisateurCreation0], [d2].[UtilisateurModification] AS [UtilisateurModification0], [s0].[Code], [s0].[Libelle]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[StatutId] = [s0].[Id]
    LEFT JOIN [documentsDemandes] AS [d2] ON [d1].[Id] = [d2].[IdDemande]
) AS [s1] ON [d0].[Id] = [s1].[IdDossier]
ORDER BY [d0].[DateCreation] DESC, [d0].[Id], [c].[Id], [s].[Id], [s1].[Id], [s1].[Id0]
2026-02-12 11:27:20.243 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-12 11:27:20.300 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[DateCreation], [s1].[DateModification], [s1].[DateOuverture], [s1].[IdAgentInstructeur], [s1].[IdClient], [s1].[IdModeReglement], [s1].[IdStatut], [s1].[Libelle], [s1].[Numero], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Adresse], [s1].[Bp], [s1].[ChangementMotPasse], [s1].[Code], [s1].[ContactFonction], [s1].[ContactNom], [s1].[ContactTelephone], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Desactive], [s1].[Email], [s1].[IsVerified], [s1].[MotPasse], [s1].[NiveauValidation], [s1].[Pays], [s1].[RaisonSociale], [s1].[RegistreCommerce], [s1].[Remarques], [s1].[TypeClient], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[VerificationCode], [s1].[VerificationTokenExpiry], [s1].[Ville], [s1].[Id1], [s1].[Code0], [s1].[Libelle0], [s2].[Id], [s2].[ContactEmail], [s2].[ContactNom], [s2].[DateCreation], [s2].[DateModification], [s2].[Description], [s2].[Equipement], [s2].[EstHomologable], [s2].[Fabricant], [s2].[IdCategorie], [s2].[IdDossier], [s2].[IdMotifRejet], [s2].[IdProposition], [s2].[IdStatut], [s2].[Marque], [s2].[Modele], [s2].[NumeroDemande], [s2].[PrixUnitaire], [s2].[QuantiteEquipements], [s2].[Remise], [s2].[StatutId], [s2].[Type], [s2].[UtilisateurCreation], [s2].[UtilisateurModification], [s2].[Id0], [s2].[Code], [s2].[Libelle], [s2].[Id1], [s2].[Id2], [s2].[Id3], [s2].[DateCreation0], [s2].[DateModification0], [s2].[Donnees], [s2].[Extension], [s2].[FilePath], [s2].[IdDemande], [s2].[Nom], [s2].[UtilisateurCreation0], [s2].[UtilisateurModification0], [s2].[Code0], [s2].[DateCreation1], [s2].[DateModification1], [s2].[FormuleHomologation], [s2].[FraisControle], [s2].[FraisEtude], [s2].[FraisHomologation], [s2].[FraisHomologationParLot], [s2].[FraisHomologationQuantiteParLot], [s2].[Libelle0], [s2].[QuantiteReference], [s2].[Remarques], [s2].[TypeClient], [s2].[TypeEquipement], [s2].[UtilisateurCreation1], [s2].[UtilisateurModification1], [s2].[Code1], [s2].[DateCreation2], [s2].[DateModification2], [s2].[Libelle1], [s2].[Remarques0], [s2].[UtilisateurCreation2], [s2].[UtilisateurModification2]
FROM (
    SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [c].[Id] AS [Id0], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation] AS [DateCreation0], [c].[DateModification] AS [DateModification0], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation] AS [UtilisateurCreation0], [c].[UtilisateurModification] AS [UtilisateurModification0], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id] AS [Id1], [s].[Code] AS [Code0], [s].[Libelle] AS [Libelle0]
    FROM [dossiers] AS [d]
    INNER JOIN [clients] AS [c] ON [d].[IdClient] = [c].[Id]
    INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
    WHERE [d].[Id] = @__request_DossierId_0
) AS [s1]
LEFT JOIN (
    SELECT [d0].[Id], [d0].[ContactEmail], [d0].[ContactNom], [d0].[DateCreation], [d0].[DateModification], [d0].[Description], [d0].[Equipement], [d0].[EstHomologable], [d0].[Fabricant], [d0].[IdCategorie], [d0].[IdDossier], [d0].[IdMotifRejet], [d0].[IdProposition], [d0].[IdStatut], [d0].[Marque], [d0].[Modele], [d0].[NumeroDemande], [d0].[PrixUnitaire], [d0].[QuantiteEquipements], [d0].[Remise], [d0].[StatutId], [d0].[Type], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c0].[Id] AS [Id1], [m].[Id] AS [Id2], [d1].[Id] AS [Id3], [d1].[DateCreation] AS [DateCreation0], [d1].[DateModification] AS [DateModification0], [d1].[Donnees], [d1].[Extension], [d1].[FilePath], [d1].[IdDemande], [d1].[Nom], [d1].[UtilisateurCreation] AS [UtilisateurCreation0], [d1].[UtilisateurModification] AS [UtilisateurModification0], [c0].[Code] AS [Code0], [c0].[DateCreation] AS [DateCreation1], [c0].[DateModification] AS [DateModification1], [c0].[FormuleHomologation], [c0].[FraisControle], [c0].[FraisEtude], [c0].[FraisHomologation], [c0].[FraisHomologationParLot], [c0].[FraisHomologationQuantiteParLot], [c0].[Libelle] AS [Libelle0], [c0].[QuantiteReference], [c0].[Remarques], [c0].[TypeClient], [c0].[TypeEquipement], [c0].[UtilisateurCreation] AS [UtilisateurCreation1], [c0].[UtilisateurModification] AS [UtilisateurModification1], [m].[Code] AS [Code1], [m].[DateCreation] AS [DateCreation2], [m].[DateModification] AS [DateModification2], [m].[Libelle] AS [Libelle1], [m].[Remarques] AS [Remarques0], [m].[UtilisateurCreation] AS [UtilisateurCreation2], [m].[UtilisateurModification] AS [UtilisateurModification2]
    FROM [demandes] AS [d0]
    LEFT JOIN [statuts] AS [s0] ON [d0].[StatutId] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c0] ON [d0].[IdCategorie] = [c0].[Id]
    LEFT JOIN [motifsRejets] AS [m] ON [d0].[IdMotifRejet] = [m].[Id]
    LEFT JOIN [documentsDemandes] AS [d1] ON [d0].[Id] = [d1].[IdDemande]
) AS [s2] ON [s1].[Id] = [s2].[IdDossier]
ORDER BY [s1].[Id], [s1].[Id0], [s1].[Id1], [s2].[Id], [s2].[Id0], [s2].[Id1], [s2].[Id2]
2026-02-12 11:28:15.620 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EquipementId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[StatutId], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [demandes] AS [d]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [d].[Id] = @__request_EquipementId_0
2026-02-12 11:28:15.701 +01:00 [ERR] Échec lors du changement de statut de l'équipement "8873f2cf-5cae-4779-bfbf-9e3369736f2e"
System.Exception: L'équipement avec l'ID '8873f2cf-5cae-4779-bfbf-9e3369736f2e' est introuvable.
   at BackOffice.Application.Features.Demandes.Commands.ChangeStatus.ChangeEquipementStatusCommandHandler.Handle(ChangeEquipementStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\ChangeStatus\ChangeEquipementStatusCommandHandler.cs:line 47
2026-02-12 11:28:15.895 +01:00 [ERR] Une exception non gérée a été interceptée.
System.Exception: L'équipement avec l'ID '8873f2cf-5cae-4779-bfbf-9e3369736f2e' est introuvable.
   at BackOffice.Application.Features.Demandes.Commands.ChangeStatus.ChangeEquipementStatusCommandHandler.Handle(ChangeEquipementStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\ChangeStatus\ChangeEquipementStatusCommandHandler.cs:line 47
   at BackOffice.Application.Features.Demandes.Commands.ChangeStatus.ChangeEquipementStatusCommandHandler.Handle(ChangeEquipementStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\ChangeStatus\ChangeEquipementStatusCommandHandler.cs:line 123
   at BackOffice.Api.Controllers.DemandesController.ChangeEquipementStatus(Guid equipement, ChangeEquipementStatusCommand command) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Controllers\DemandesController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BackOffice.Api.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Middleware\ErrorHandlingMiddleware.cs:line 21
2026-02-12 11:28:54.716 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EquipementId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[StatutId], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [demandes] AS [d]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [d].[Id] = @__request_EquipementId_0
2026-02-12 11:28:54.745 +01:00 [ERR] Échec lors du changement de statut de l'équipement "8873f2cf-5cae-4779-bfbf-9e3369736f2e"
System.Exception: L'équipement avec l'ID '8873f2cf-5cae-4779-bfbf-9e3369736f2e' est introuvable.
   at BackOffice.Application.Features.Demandes.Commands.ChangeStatus.ChangeEquipementStatusCommandHandler.Handle(ChangeEquipementStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\ChangeStatus\ChangeEquipementStatusCommandHandler.cs:line 47
2026-02-12 11:28:54.857 +01:00 [ERR] Une exception non gérée a été interceptée.
System.Exception: L'équipement avec l'ID '8873f2cf-5cae-4779-bfbf-9e3369736f2e' est introuvable.
   at BackOffice.Application.Features.Demandes.Commands.ChangeStatus.ChangeEquipementStatusCommandHandler.Handle(ChangeEquipementStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\ChangeStatus\ChangeEquipementStatusCommandHandler.cs:line 47
   at BackOffice.Application.Features.Demandes.Commands.ChangeStatus.ChangeEquipementStatusCommandHandler.Handle(ChangeEquipementStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\ChangeStatus\ChangeEquipementStatusCommandHandler.cs:line 123
   at BackOffice.Api.Controllers.DemandesController.ChangeEquipementStatus(Guid equipement, ChangeEquipementStatusCommand command) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Controllers\DemandesController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BackOffice.Api.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Middleware\ErrorHandlingMiddleware.cs:line 21
2026-02-12 11:30:45.439 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EquipementId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[StatutId], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [demandes] AS [d]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [d].[Id] = @__request_EquipementId_0
2026-02-12 11:30:45.472 +01:00 [ERR] Échec lors du changement de statut de l'équipement "8873f2cf-5cae-4779-bfbf-9e3369736f2e"
System.Exception: L'équipement avec l'ID '8873f2cf-5cae-4779-bfbf-9e3369736f2e' est introuvable.
   at BackOffice.Application.Features.Demandes.Commands.ChangeStatus.ChangeEquipementStatusCommandHandler.Handle(ChangeEquipementStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\ChangeStatus\ChangeEquipementStatusCommandHandler.cs:line 47
2026-02-12 11:30:45.612 +01:00 [ERR] Une exception non gérée a été interceptée.
System.Exception: L'équipement avec l'ID '8873f2cf-5cae-4779-bfbf-9e3369736f2e' est introuvable.
   at BackOffice.Application.Features.Demandes.Commands.ChangeStatus.ChangeEquipementStatusCommandHandler.Handle(ChangeEquipementStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\ChangeStatus\ChangeEquipementStatusCommandHandler.cs:line 47
   at BackOffice.Application.Features.Demandes.Commands.ChangeStatus.ChangeEquipementStatusCommandHandler.Handle(ChangeEquipementStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\ChangeStatus\ChangeEquipementStatusCommandHandler.cs:line 123
   at BackOffice.Api.Controllers.DemandesController.ChangeEquipementStatus(Guid equipement, ChangeEquipementStatusCommand command) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Controllers\DemandesController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BackOffice.Api.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Middleware\ErrorHandlingMiddleware.cs:line 21
2026-02-12 11:32:21.928 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_EquipementId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[StatutId], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [demandes] AS [d]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [d].[Id] = @__request_EquipementId_0
2026-02-12 11:32:22.025 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_CodeStatut_0='?' (Size = 120)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = @__request_CodeStatut_0
2026-02-12 11:32:22.052 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
WHERE [a].[Id] = @__p_0
2026-02-12 11:32:22.165 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 512), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (DbType = Int64), @p5='?' (DbType = Guid), @p6='?' (Size = 60), @p7='?' (Size = 512), @p8='?' (Size = 60), @p9='?' (Size = 60), @p12='?' (DbType = Guid), @p10='?' (DbType = Int64), @p11='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [commentaires] ([Id], [commentaire], [DateCommentaire], [DateCreation], [DateModification], [IdDossier], [NomInstructeur], [Proposition], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE [demandes] SET [DateModification] = @p10, [IdStatut] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2026-02-12 11:32:22.177 +01:00 [INF] Statut de l'équipement "eb0e4fd1-adda-4c9c-b46e-0b35704765cb" mis à jour vers Refus
2026-02-12 11:32:22.192 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__eventTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Code], [a].[Libelle]
FROM [adminEvenementsTypes] AS [a]
WHERE [a].[Code] = @__eventTypeCode_0
2026-02-12 11:32:22.247 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 120), @p2='?' (Size = 120), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (Size = 255), @p8='?' (Size = 120), @p9='?' (Size = 120)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [adminJournal] ([Id], [AdresseIP], [Application], [DateEvenement], [DossierId], [IdDossier], [IdEvenementType], [Libelle], [Page], [Utilisateur])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-02-12 11:32:22.290 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?' (DbType = Guid), @p13='?' (Size = 4000), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Id], [DateCreation], [DateEnvoi], [DateModification], [EntityId], [IsBroadcast], [IsRead], [Message], [ProfilCode], [TargetUrl], [Title], [Type], [UserId], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-12 11:32:39.810 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[DateCreation], [s1].[DateModification], [s1].[DateOuverture], [s1].[IdAgentInstructeur], [s1].[IdClient], [s1].[IdModeReglement], [s1].[IdStatut], [s1].[Libelle], [s1].[Numero], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Adresse], [s1].[Bp], [s1].[ChangementMotPasse], [s1].[Code], [s1].[ContactFonction], [s1].[ContactNom], [s1].[ContactTelephone], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Desactive], [s1].[Email], [s1].[IsVerified], [s1].[MotPasse], [s1].[NiveauValidation], [s1].[Pays], [s1].[RaisonSociale], [s1].[RegistreCommerce], [s1].[Remarques], [s1].[TypeClient], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[VerificationCode], [s1].[VerificationTokenExpiry], [s1].[Ville], [s1].[Id1], [s1].[Code0], [s1].[Libelle0], [s2].[Id], [s2].[ContactEmail], [s2].[ContactNom], [s2].[DateCreation], [s2].[DateModification], [s2].[Description], [s2].[Equipement], [s2].[EstHomologable], [s2].[Fabricant], [s2].[IdCategorie], [s2].[IdDossier], [s2].[IdMotifRejet], [s2].[IdProposition], [s2].[IdStatut], [s2].[Marque], [s2].[Modele], [s2].[NumeroDemande], [s2].[PrixUnitaire], [s2].[QuantiteEquipements], [s2].[Remise], [s2].[StatutId], [s2].[Type], [s2].[UtilisateurCreation], [s2].[UtilisateurModification], [s2].[Id0], [s2].[Code], [s2].[Libelle], [s2].[Id1], [s2].[Id2], [s2].[Id3], [s2].[DateCreation0], [s2].[DateModification0], [s2].[Donnees], [s2].[Extension], [s2].[FilePath], [s2].[IdDemande], [s2].[Nom], [s2].[UtilisateurCreation0], [s2].[UtilisateurModification0], [s2].[Code0], [s2].[DateCreation1], [s2].[DateModification1], [s2].[FormuleHomologation], [s2].[FraisControle], [s2].[FraisEtude], [s2].[FraisHomologation], [s2].[FraisHomologationParLot], [s2].[FraisHomologationQuantiteParLot], [s2].[Libelle0], [s2].[QuantiteReference], [s2].[Remarques], [s2].[TypeClient], [s2].[TypeEquipement], [s2].[UtilisateurCreation1], [s2].[UtilisateurModification1], [s2].[Code1], [s2].[DateCreation2], [s2].[DateModification2], [s2].[Libelle1], [s2].[Remarques0], [s2].[UtilisateurCreation2], [s2].[UtilisateurModification2]
FROM (
    SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [c].[Id] AS [Id0], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation] AS [DateCreation0], [c].[DateModification] AS [DateModification0], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation] AS [UtilisateurCreation0], [c].[UtilisateurModification] AS [UtilisateurModification0], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id] AS [Id1], [s].[Code] AS [Code0], [s].[Libelle] AS [Libelle0]
    FROM [dossiers] AS [d]
    INNER JOIN [clients] AS [c] ON [d].[IdClient] = [c].[Id]
    INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
    WHERE [d].[Id] = @__request_DossierId_0
) AS [s1]
LEFT JOIN (
    SELECT [d0].[Id], [d0].[ContactEmail], [d0].[ContactNom], [d0].[DateCreation], [d0].[DateModification], [d0].[Description], [d0].[Equipement], [d0].[EstHomologable], [d0].[Fabricant], [d0].[IdCategorie], [d0].[IdDossier], [d0].[IdMotifRejet], [d0].[IdProposition], [d0].[IdStatut], [d0].[Marque], [d0].[Modele], [d0].[NumeroDemande], [d0].[PrixUnitaire], [d0].[QuantiteEquipements], [d0].[Remise], [d0].[StatutId], [d0].[Type], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c0].[Id] AS [Id1], [m].[Id] AS [Id2], [d1].[Id] AS [Id3], [d1].[DateCreation] AS [DateCreation0], [d1].[DateModification] AS [DateModification0], [d1].[Donnees], [d1].[Extension], [d1].[FilePath], [d1].[IdDemande], [d1].[Nom], [d1].[UtilisateurCreation] AS [UtilisateurCreation0], [d1].[UtilisateurModification] AS [UtilisateurModification0], [c0].[Code] AS [Code0], [c0].[DateCreation] AS [DateCreation1], [c0].[DateModification] AS [DateModification1], [c0].[FormuleHomologation], [c0].[FraisControle], [c0].[FraisEtude], [c0].[FraisHomologation], [c0].[FraisHomologationParLot], [c0].[FraisHomologationQuantiteParLot], [c0].[Libelle] AS [Libelle0], [c0].[QuantiteReference], [c0].[Remarques], [c0].[TypeClient], [c0].[TypeEquipement], [c0].[UtilisateurCreation] AS [UtilisateurCreation1], [c0].[UtilisateurModification] AS [UtilisateurModification1], [m].[Code] AS [Code1], [m].[DateCreation] AS [DateCreation2], [m].[DateModification] AS [DateModification2], [m].[Libelle] AS [Libelle1], [m].[Remarques] AS [Remarques0], [m].[UtilisateurCreation] AS [UtilisateurCreation2], [m].[UtilisateurModification] AS [UtilisateurModification2]
    FROM [demandes] AS [d0]
    LEFT JOIN [statuts] AS [s0] ON [d0].[StatutId] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c0] ON [d0].[IdCategorie] = [c0].[Id]
    LEFT JOIN [motifsRejets] AS [m] ON [d0].[IdMotifRejet] = [m].[Id]
    LEFT JOIN [documentsDemandes] AS [d1] ON [d0].[Id] = [d1].[IdDemande]
) AS [s2] ON [s1].[Id] = [s2].[IdDossier]
ORDER BY [s1].[Id], [s1].[Id0], [s1].[Id1], [s2].[Id], [s2].[Id0], [s2].[Id1], [s2].[Id2]
2026-02-12 11:33:33.945 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__request_EquipementId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[StatutId], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [demandes] AS [d]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [d].[Id] = @__request_EquipementId_0
2026-02-12 11:33:33.954 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_CodeStatut_0='?' (Size = 120)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = @__request_CodeStatut_0
2026-02-12 11:33:33.961 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
WHERE [a].[Id] = @__p_0
2026-02-12 11:33:33.977 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 512), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (DbType = Int64), @p5='?' (DbType = Guid), @p6='?' (Size = 60), @p7='?' (Size = 512), @p8='?' (Size = 60), @p9='?' (Size = 60), @p12='?' (DbType = Guid), @p10='?' (DbType = Int64), @p11='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [commentaires] ([Id], [commentaire], [DateCommentaire], [DateCreation], [DateModification], [IdDossier], [NomInstructeur], [Proposition], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE [demandes] SET [DateModification] = @p10, [IdStatut] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2026-02-12 11:33:33.982 +01:00 [INF] Statut de l'équipement "00144723-e4b9-48a1-a7ad-1221e4e6fc07" mis à jour vers Refus
2026-02-12 11:33:33.986 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__eventTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Code], [a].[Libelle]
FROM [adminEvenementsTypes] AS [a]
WHERE [a].[Code] = @__eventTypeCode_0
2026-02-12 11:33:33.994 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 120), @p2='?' (Size = 120), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (Size = 255), @p8='?' (Size = 120), @p9='?' (Size = 120)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [adminJournal] ([Id], [AdresseIP], [Application], [DateEvenement], [DossierId], [IdDossier], [IdEvenementType], [Libelle], [Page], [Utilisateur])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-02-12 11:33:34.003 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?' (DbType = Guid), @p13='?' (Size = 4000), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Id], [DateCreation], [DateEnvoi], [DateModification], [EntityId], [IsBroadcast], [IsRead], [Message], [ProfilCode], [TargetUrl], [Title], [Type], [UserId], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-12 11:33:52.499 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[DateCreation], [s1].[DateModification], [s1].[DateOuverture], [s1].[IdAgentInstructeur], [s1].[IdClient], [s1].[IdModeReglement], [s1].[IdStatut], [s1].[Libelle], [s1].[Numero], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Adresse], [s1].[Bp], [s1].[ChangementMotPasse], [s1].[Code], [s1].[ContactFonction], [s1].[ContactNom], [s1].[ContactTelephone], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Desactive], [s1].[Email], [s1].[IsVerified], [s1].[MotPasse], [s1].[NiveauValidation], [s1].[Pays], [s1].[RaisonSociale], [s1].[RegistreCommerce], [s1].[Remarques], [s1].[TypeClient], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[VerificationCode], [s1].[VerificationTokenExpiry], [s1].[Ville], [s1].[Id1], [s1].[Code0], [s1].[Libelle0], [s2].[Id], [s2].[ContactEmail], [s2].[ContactNom], [s2].[DateCreation], [s2].[DateModification], [s2].[Description], [s2].[Equipement], [s2].[EstHomologable], [s2].[Fabricant], [s2].[IdCategorie], [s2].[IdDossier], [s2].[IdMotifRejet], [s2].[IdProposition], [s2].[IdStatut], [s2].[Marque], [s2].[Modele], [s2].[NumeroDemande], [s2].[PrixUnitaire], [s2].[QuantiteEquipements], [s2].[Remise], [s2].[StatutId], [s2].[Type], [s2].[UtilisateurCreation], [s2].[UtilisateurModification], [s2].[Id0], [s2].[Code], [s2].[Libelle], [s2].[Id1], [s2].[Id2], [s2].[Id3], [s2].[DateCreation0], [s2].[DateModification0], [s2].[Donnees], [s2].[Extension], [s2].[FilePath], [s2].[IdDemande], [s2].[Nom], [s2].[UtilisateurCreation0], [s2].[UtilisateurModification0], [s2].[Code0], [s2].[DateCreation1], [s2].[DateModification1], [s2].[FormuleHomologation], [s2].[FraisControle], [s2].[FraisEtude], [s2].[FraisHomologation], [s2].[FraisHomologationParLot], [s2].[FraisHomologationQuantiteParLot], [s2].[Libelle0], [s2].[QuantiteReference], [s2].[Remarques], [s2].[TypeClient], [s2].[TypeEquipement], [s2].[UtilisateurCreation1], [s2].[UtilisateurModification1], [s2].[Code1], [s2].[DateCreation2], [s2].[DateModification2], [s2].[Libelle1], [s2].[Remarques0], [s2].[UtilisateurCreation2], [s2].[UtilisateurModification2]
FROM (
    SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [c].[Id] AS [Id0], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation] AS [DateCreation0], [c].[DateModification] AS [DateModification0], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation] AS [UtilisateurCreation0], [c].[UtilisateurModification] AS [UtilisateurModification0], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id] AS [Id1], [s].[Code] AS [Code0], [s].[Libelle] AS [Libelle0]
    FROM [dossiers] AS [d]
    INNER JOIN [clients] AS [c] ON [d].[IdClient] = [c].[Id]
    INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
    WHERE [d].[Id] = @__request_DossierId_0
) AS [s1]
LEFT JOIN (
    SELECT [d0].[Id], [d0].[ContactEmail], [d0].[ContactNom], [d0].[DateCreation], [d0].[DateModification], [d0].[Description], [d0].[Equipement], [d0].[EstHomologable], [d0].[Fabricant], [d0].[IdCategorie], [d0].[IdDossier], [d0].[IdMotifRejet], [d0].[IdProposition], [d0].[IdStatut], [d0].[Marque], [d0].[Modele], [d0].[NumeroDemande], [d0].[PrixUnitaire], [d0].[QuantiteEquipements], [d0].[Remise], [d0].[StatutId], [d0].[Type], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c0].[Id] AS [Id1], [m].[Id] AS [Id2], [d1].[Id] AS [Id3], [d1].[DateCreation] AS [DateCreation0], [d1].[DateModification] AS [DateModification0], [d1].[Donnees], [d1].[Extension], [d1].[FilePath], [d1].[IdDemande], [d1].[Nom], [d1].[UtilisateurCreation] AS [UtilisateurCreation0], [d1].[UtilisateurModification] AS [UtilisateurModification0], [c0].[Code] AS [Code0], [c0].[DateCreation] AS [DateCreation1], [c0].[DateModification] AS [DateModification1], [c0].[FormuleHomologation], [c0].[FraisControle], [c0].[FraisEtude], [c0].[FraisHomologation], [c0].[FraisHomologationParLot], [c0].[FraisHomologationQuantiteParLot], [c0].[Libelle] AS [Libelle0], [c0].[QuantiteReference], [c0].[Remarques], [c0].[TypeClient], [c0].[TypeEquipement], [c0].[UtilisateurCreation] AS [UtilisateurCreation1], [c0].[UtilisateurModification] AS [UtilisateurModification1], [m].[Code] AS [Code1], [m].[DateCreation] AS [DateCreation2], [m].[DateModification] AS [DateModification2], [m].[Libelle] AS [Libelle1], [m].[Remarques] AS [Remarques0], [m].[UtilisateurCreation] AS [UtilisateurCreation2], [m].[UtilisateurModification] AS [UtilisateurModification2]
    FROM [demandes] AS [d0]
    LEFT JOIN [statuts] AS [s0] ON [d0].[StatutId] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c0] ON [d0].[IdCategorie] = [c0].[Id]
    LEFT JOIN [motifsRejets] AS [m] ON [d0].[IdMotifRejet] = [m].[Id]
    LEFT JOIN [documentsDemandes] AS [d1] ON [d0].[Id] = [d1].[IdDemande]
) AS [s2] ON [s1].[Id] = [s2].[IdDossier]
ORDER BY [s1].[Id], [s1].[Id0], [s1].[Id1], [s2].[Id], [s2].[Id0], [s2].[Id1], [s2].[Id2]
2026-02-12 11:35:51.399 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [dossiers] AS [d]
2026-02-12 11:35:51.430 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [c].[Id], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation], [c].[DateModification], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation], [c].[UtilisateurModification], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id], [s].[Code], [s].[Libelle], [s1].[Id], [s1].[ContactEmail], [s1].[ContactNom], [s1].[DateCreation], [s1].[DateModification], [s1].[Description], [s1].[Equipement], [s1].[EstHomologable], [s1].[Fabricant], [s1].[IdCategorie], [s1].[IdDossier], [s1].[IdMotifRejet], [s1].[IdProposition], [s1].[IdStatut], [s1].[Marque], [s1].[Modele], [s1].[NumeroDemande], [s1].[PrixUnitaire], [s1].[QuantiteEquipements], [s1].[Remise], [s1].[StatutId], [s1].[Type], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Id1], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Donnees], [s1].[Extension], [s1].[FilePath], [s1].[IdDemande], [s1].[Nom], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[Code], [s1].[Libelle]
FROM (
    SELECT [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification]
    FROM [dossiers] AS [d]
    ORDER BY [d].[DateCreation] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d0]
INNER JOIN [clients] AS [c] ON [d0].[IdClient] = [c].[Id]
INNER JOIN [statuts] AS [s] ON [d0].[IdStatut] = [s].[Id]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[StatutId], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [d2].[Id] AS [Id1], [d2].[DateCreation] AS [DateCreation0], [d2].[DateModification] AS [DateModification0], [d2].[Donnees], [d2].[Extension], [d2].[FilePath], [d2].[IdDemande], [d2].[Nom], [d2].[UtilisateurCreation] AS [UtilisateurCreation0], [d2].[UtilisateurModification] AS [UtilisateurModification0], [s0].[Code], [s0].[Libelle]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[StatutId] = [s0].[Id]
    LEFT JOIN [documentsDemandes] AS [d2] ON [d1].[Id] = [d2].[IdDemande]
) AS [s1] ON [d0].[Id] = [s1].[IdDossier]
ORDER BY [d0].[DateCreation] DESC, [d0].[Id], [c].[Id], [s].[Id], [s1].[Id], [s1].[Id0]
2026-02-12 12:20:03.340 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 12:20:03.383 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 12:20:03.531 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 12:20:03.534 +01:00 [INF] Hosting environment: Development
2026-02-12 12:20:03.538 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 12:20:20.702 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 12:20:24.184 +01:00 [INF] Executed DbCommand (76ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 12:20:25.061 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 12:20:59.813 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [dossiers] AS [d]
2026-02-12 12:20:59.956 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [c].[Id], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation], [c].[DateModification], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation], [c].[UtilisateurModification], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id], [s].[Code], [s].[Libelle], [s1].[Id], [s1].[ContactEmail], [s1].[ContactNom], [s1].[DateCreation], [s1].[DateModification], [s1].[Description], [s1].[Equipement], [s1].[EstHomologable], [s1].[Fabricant], [s1].[IdCategorie], [s1].[IdDossier], [s1].[IdMotifRejet], [s1].[IdProposition], [s1].[IdStatut], [s1].[Marque], [s1].[Modele], [s1].[NumeroDemande], [s1].[PrixUnitaire], [s1].[QuantiteEquipements], [s1].[Remise], [s1].[Type], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Code], [s1].[Libelle]
FROM (
    SELECT [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification]
    FROM [dossiers] AS [d]
    ORDER BY [d].[DateCreation] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d0]
INNER JOIN [clients] AS [c] ON [d0].[IdClient] = [c].[Id]
INNER JOIN [statuts] AS [s] ON [d0].[IdStatut] = [s].[Id]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[IdStatut] = [s0].[Id]
) AS [s1] ON [d0].[Id] = [s1].[IdDossier]
ORDER BY [d0].[DateCreation] DESC, [d0].[Id], [c].[Id], [s].[Id], [s1].[Id]
2026-02-12 13:48:12.905 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 13:48:12.944 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 13:48:13.037 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 13:48:13.041 +01:00 [INF] Hosting environment: Development
2026-02-12 13:48:13.043 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 13:48:35.647 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 13:48:38.070 +01:00 [INF] Executed DbCommand (65ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 13:48:38.714 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 13:49:13.611 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [dossiers] AS [d]
2026-02-12 13:49:13.690 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-12 13:49:13.764 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [c].[Id], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation], [c].[DateModification], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation], [c].[UtilisateurModification], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id], [s].[Code], [s].[Libelle], [s1].[Id], [s1].[ContactEmail], [s1].[ContactNom], [s1].[DateCreation], [s1].[DateModification], [s1].[Description], [s1].[Equipement], [s1].[EstHomologable], [s1].[Fabricant], [s1].[IdCategorie], [s1].[IdDossier], [s1].[IdMotifRejet], [s1].[IdProposition], [s1].[IdStatut], [s1].[Marque], [s1].[Modele], [s1].[NumeroDemande], [s1].[PrixUnitaire], [s1].[QuantiteEquipements], [s1].[Remise], [s1].[Type], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Code], [s1].[Libelle], [s1].[Id1], [s1].[Code0], [s1].[DateCreation0], [s1].[DateModification0], [s1].[FormuleHomologation], [s1].[FraisControle], [s1].[FraisEtude], [s1].[FraisHomologation], [s1].[FraisHomologationParLot], [s1].[FraisHomologationQuantiteParLot], [s1].[Libelle0], [s1].[QuantiteReference], [s1].[Remarques], [s1].[TypeClient], [s1].[TypeEquipement], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[Id2], [s1].[DateCreation1], [s1].[DateModification1], [s1].[Donnees], [s1].[Extension], [s1].[FilePath], [s1].[IdDemande], [s1].[Nom], [s1].[UtilisateurCreation1], [s1].[UtilisateurModification1]
FROM (
    SELECT [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification]
    FROM [dossiers] AS [d]
    ORDER BY [d].[DateCreation] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d0]
INNER JOIN [clients] AS [c] ON [d0].[IdClient] = [c].[Id]
INNER JOIN [statuts] AS [s] ON [d0].[IdStatut] = [s].[Id]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c0].[Id] AS [Id1], [c0].[Code] AS [Code0], [c0].[DateCreation] AS [DateCreation0], [c0].[DateModification] AS [DateModification0], [c0].[FormuleHomologation], [c0].[FraisControle], [c0].[FraisEtude], [c0].[FraisHomologation], [c0].[FraisHomologationParLot], [c0].[FraisHomologationQuantiteParLot], [c0].[Libelle] AS [Libelle0], [c0].[QuantiteReference], [c0].[Remarques], [c0].[TypeClient], [c0].[TypeEquipement], [c0].[UtilisateurCreation] AS [UtilisateurCreation0], [c0].[UtilisateurModification] AS [UtilisateurModification0], [d2].[Id] AS [Id2], [d2].[DateCreation] AS [DateCreation1], [d2].[DateModification] AS [DateModification1], [d2].[Donnees], [d2].[Extension], [d2].[FilePath], [d2].[IdDemande], [d2].[Nom], [d2].[UtilisateurCreation] AS [UtilisateurCreation1], [d2].[UtilisateurModification] AS [UtilisateurModification1]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[IdStatut] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c0] ON [d1].[IdCategorie] = [c0].[Id]
    LEFT JOIN [documentsDemandes] AS [d2] ON [d1].[Id] = [d2].[IdDemande]
) AS [s1] ON [d0].[Id] = [s1].[IdDossier]
ORDER BY [d0].[DateCreation] DESC, [d0].[Id], [c].[Id], [s].[Id], [s1].[Id], [s1].[Id0], [s1].[Id1]
2026-02-12 15:50:01.897 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 15:50:02.081 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 15:50:32.274 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-12 15:50:32.375 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[DateCreation], [s1].[DateModification], [s1].[DateOuverture], [s1].[IdAgentInstructeur], [s1].[IdClient], [s1].[IdModeReglement], [s1].[IdStatut], [s1].[Libelle], [s1].[Numero], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Adresse], [s1].[Bp], [s1].[ChangementMotPasse], [s1].[Code], [s1].[ContactFonction], [s1].[ContactNom], [s1].[ContactTelephone], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Desactive], [s1].[Email], [s1].[IsVerified], [s1].[MotPasse], [s1].[NiveauValidation], [s1].[Pays], [s1].[RaisonSociale], [s1].[RegistreCommerce], [s1].[Remarques], [s1].[TypeClient], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[VerificationCode], [s1].[VerificationTokenExpiry], [s1].[Ville], [s1].[Id1], [s1].[Code0], [s1].[Libelle0], [s1].[Id2], [s1].[Code1], [s1].[DateCreation1], [s1].[DateModification1], [s1].[Libelle1], [s1].[MobileBanking], [s1].[Remarques0], [s1].[UtilisateurCreation1], [s1].[UtilisateurModification1], [c0].[Id], [c0].[commentaire], [c0].[DateCommentaire], [c0].[DateCreation], [c0].[DateModification], [c0].[IdDossier], [c0].[NomInstructeur], [c0].[Proposition], [c0].[UtilisateurCreation], [c0].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[Donnees], [d0].[Extension], [d0].[FilePath], [d0].[IdDossier], [d0].[Nom], [d0].[Type], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [s2].[Id], [s2].[ContactEmail], [s2].[ContactNom], [s2].[DateCreation], [s2].[DateModification], [s2].[Description], [s2].[Equipement], [s2].[EstHomologable], [s2].[Fabricant], [s2].[IdCategorie], [s2].[IdDossier], [s2].[IdMotifRejet], [s2].[IdProposition], [s2].[IdStatut], [s2].[Marque], [s2].[Modele], [s2].[NumeroDemande], [s2].[PrixUnitaire], [s2].[QuantiteEquipements], [s2].[Remise], [s2].[Type], [s2].[UtilisateurCreation], [s2].[UtilisateurModification], [s2].[Id0], [s2].[Code], [s2].[Libelle], [s2].[Id1], [s2].[Id2], [s2].[Id3], [s2].[Id4], [s2].[DateCreation0], [s2].[DateModification0], [s2].[Donnees], [s2].[Extension], [s2].[FilePath], [s2].[IdDemande], [s2].[Nom], [s2].[UtilisateurCreation0], [s2].[UtilisateurModification0], [s2].[Code0], [s2].[DateCreation1], [s2].[DateModification1], [s2].[FormuleHomologation], [s2].[FraisControle], [s2].[FraisEtude], [s2].[FraisHomologation], [s2].[FraisHomologationParLot], [s2].[FraisHomologationQuantiteParLot], [s2].[Libelle0], [s2].[QuantiteReference], [s2].[Remarques], [s2].[TypeClient], [s2].[TypeEquipement], [s2].[UtilisateurCreation1], [s2].[UtilisateurModification1], [s2].[Code1], [s2].[DateCreation2], [s2].[DateModification2], [s2].[Libelle1], [s2].[Remarques0], [s2].[UtilisateurCreation2], [s2].[UtilisateurModification2], [s2].[Code2], [s2].[DateCreation3], [s2].[DateModification3], [s2].[Libelle2], [s2].[UtilisateurCreation3], [s2].[UtilisateurModification3]
FROM (
    SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [c].[Id] AS [Id0], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation] AS [DateCreation0], [c].[DateModification] AS [DateModification0], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation] AS [UtilisateurCreation0], [c].[UtilisateurModification] AS [UtilisateurModification0], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id] AS [Id1], [s].[Code] AS [Code0], [s].[Libelle] AS [Libelle0], [m].[Id] AS [Id2], [m].[Code] AS [Code1], [m].[DateCreation] AS [DateCreation1], [m].[DateModification] AS [DateModification1], [m].[Libelle] AS [Libelle1], [m].[MobileBanking], [m].[Remarques] AS [Remarques0], [m].[UtilisateurCreation] AS [UtilisateurCreation1], [m].[UtilisateurModification] AS [UtilisateurModification1]
    FROM [dossiers] AS [d]
    INNER JOIN [clients] AS [c] ON [d].[IdClient] = [c].[Id]
    INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
    LEFT JOIN [modesReglements] AS [m] ON [d].[IdModeReglement] = [m].[Id]
    WHERE [d].[Id] = @__request_DossierId_0
) AS [s1]
LEFT JOIN [commentaires] AS [c0] ON [s1].[Id] = [c0].[IdDossier]
LEFT JOIN [documentsDossiers] AS [d0] ON [s1].[Id] = [d0].[IdDossier]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c1].[Id] AS [Id1], [m0].[Id] AS [Id2], [p].[Id] AS [Id3], [d2].[Id] AS [Id4], [d2].[DateCreation] AS [DateCreation0], [d2].[DateModification] AS [DateModification0], [d2].[Donnees], [d2].[Extension], [d2].[FilePath], [d2].[IdDemande], [d2].[Nom], [d2].[UtilisateurCreation] AS [UtilisateurCreation0], [d2].[UtilisateurModification] AS [UtilisateurModification0], [c1].[Code] AS [Code0], [c1].[DateCreation] AS [DateCreation1], [c1].[DateModification] AS [DateModification1], [c1].[FormuleHomologation], [c1].[FraisControle], [c1].[FraisEtude], [c1].[FraisHomologation], [c1].[FraisHomologationParLot], [c1].[FraisHomologationQuantiteParLot], [c1].[Libelle] AS [Libelle0], [c1].[QuantiteReference], [c1].[Remarques], [c1].[TypeClient], [c1].[TypeEquipement], [c1].[UtilisateurCreation] AS [UtilisateurCreation1], [c1].[UtilisateurModification] AS [UtilisateurModification1], [m0].[Code] AS [Code1], [m0].[DateCreation] AS [DateCreation2], [m0].[DateModification] AS [DateModification2], [m0].[Libelle] AS [Libelle1], [m0].[Remarques] AS [Remarques0], [m0].[UtilisateurCreation] AS [UtilisateurCreation2], [m0].[UtilisateurModification] AS [UtilisateurModification2], [p].[Code] AS [Code2], [p].[DateCreation] AS [DateCreation3], [p].[DateModification] AS [DateModification3], [p].[Libelle] AS [Libelle2], [p].[UtilisateurCreation] AS [UtilisateurCreation3], [p].[UtilisateurModification] AS [UtilisateurModification3]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[IdStatut] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c1] ON [d1].[IdCategorie] = [c1].[Id]
    LEFT JOIN [motifsRejets] AS [m0] ON [d1].[IdMotifRejet] = [m0].[Id]
    LEFT JOIN [propositions] AS [p] ON [d1].[IdProposition] = [p].[Id]
    LEFT JOIN [documentsDemandes] AS [d2] ON [d1].[Id] = [d2].[IdDemande]
) AS [s2] ON [s1].[Id] = [s2].[IdDossier]
ORDER BY [s1].[Id], [s1].[Id0], [s1].[Id1], [s1].[Id2], [c0].[Id], [d0].[Id], [s2].[Id], [s2].[Id0], [s2].[Id1], [s2].[Id2], [s2].[Id3]
2026-02-12 16:51:58.092 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 16:51:58.152 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 16:51:58.396 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 16:51:58.402 +01:00 [INF] Hosting environment: Development
2026-02-12 16:51:58.406 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 16:52:32.542 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 16:52:38.449 +01:00 [INF] Executed DbCommand (185ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 16:52:39.010 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 16:54:08.886 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-12 16:54:09.042 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[DateCreation], [s1].[DateModification], [s1].[DateOuverture], [s1].[IdAgentInstructeur], [s1].[IdClient], [s1].[IdModeReglement], [s1].[IdStatut], [s1].[Libelle], [s1].[Numero], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Adresse], [s1].[Bp], [s1].[ChangementMotPasse], [s1].[Code], [s1].[ContactFonction], [s1].[ContactNom], [s1].[ContactTelephone], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Desactive], [s1].[Email], [s1].[IsVerified], [s1].[MotPasse], [s1].[NiveauValidation], [s1].[Pays], [s1].[RaisonSociale], [s1].[RegistreCommerce], [s1].[Remarques], [s1].[TypeClient], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[VerificationCode], [s1].[VerificationTokenExpiry], [s1].[Ville], [s1].[Id1], [s1].[Code0], [s1].[Libelle0], [s1].[Id2], [s1].[Code1], [s1].[DateCreation1], [s1].[DateModification1], [s1].[Libelle1], [s1].[MobileBanking], [s1].[Remarques0], [s1].[UtilisateurCreation1], [s1].[UtilisateurModification1], [c0].[Id], [c0].[commentaire], [c0].[DateCommentaire], [c0].[DateCreation], [c0].[DateModification], [c0].[IdDossier], [c0].[NomInstructeur], [c0].[Proposition], [c0].[UtilisateurCreation], [c0].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[Donnees], [d0].[Extension], [d0].[FilePath], [d0].[IdDossier], [d0].[Nom], [d0].[Type], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [s2].[Id], [s2].[ContactEmail], [s2].[ContactNom], [s2].[DateCreation], [s2].[DateModification], [s2].[Description], [s2].[Equipement], [s2].[EstHomologable], [s2].[Fabricant], [s2].[IdCategorie], [s2].[IdDossier], [s2].[IdMotifRejet], [s2].[IdProposition], [s2].[IdStatut], [s2].[Marque], [s2].[Modele], [s2].[NumeroDemande], [s2].[PrixUnitaire], [s2].[QuantiteEquipements], [s2].[Remise], [s2].[Type], [s2].[UtilisateurCreation], [s2].[UtilisateurModification], [s2].[Id0], [s2].[Code], [s2].[Libelle], [s2].[Id1], [s2].[Id2], [s2].[Id3], [s2].[Id4], [s2].[DateCreation0], [s2].[DateModification0], [s2].[Donnees], [s2].[Extension], [s2].[FilePath], [s2].[IdDemande], [s2].[Nom], [s2].[UtilisateurCreation0], [s2].[UtilisateurModification0], [s2].[Code0], [s2].[DateCreation1], [s2].[DateModification1], [s2].[FormuleHomologation], [s2].[FraisControle], [s2].[FraisEtude], [s2].[FraisHomologation], [s2].[FraisHomologationParLot], [s2].[FraisHomologationQuantiteParLot], [s2].[Libelle0], [s2].[QuantiteReference], [s2].[Remarques], [s2].[TypeClient], [s2].[TypeEquipement], [s2].[UtilisateurCreation1], [s2].[UtilisateurModification1], [s2].[Code1], [s2].[DateCreation2], [s2].[DateModification2], [s2].[Libelle1], [s2].[Remarques0], [s2].[UtilisateurCreation2], [s2].[UtilisateurModification2], [s2].[Code2], [s2].[DateCreation3], [s2].[DateModification3], [s2].[Libelle2], [s2].[UtilisateurCreation3], [s2].[UtilisateurModification3]
FROM (
    SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [c].[Id] AS [Id0], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation] AS [DateCreation0], [c].[DateModification] AS [DateModification0], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation] AS [UtilisateurCreation0], [c].[UtilisateurModification] AS [UtilisateurModification0], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id] AS [Id1], [s].[Code] AS [Code0], [s].[Libelle] AS [Libelle0], [m].[Id] AS [Id2], [m].[Code] AS [Code1], [m].[DateCreation] AS [DateCreation1], [m].[DateModification] AS [DateModification1], [m].[Libelle] AS [Libelle1], [m].[MobileBanking], [m].[Remarques] AS [Remarques0], [m].[UtilisateurCreation] AS [UtilisateurCreation1], [m].[UtilisateurModification] AS [UtilisateurModification1]
    FROM [dossiers] AS [d]
    INNER JOIN [clients] AS [c] ON [d].[IdClient] = [c].[Id]
    INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
    LEFT JOIN [modesReglements] AS [m] ON [d].[IdModeReglement] = [m].[Id]
    WHERE [d].[Id] = @__request_DossierId_0
) AS [s1]
LEFT JOIN [commentaires] AS [c0] ON [s1].[Id] = [c0].[IdDossier]
LEFT JOIN [documentsDossiers] AS [d0] ON [s1].[Id] = [d0].[IdDossier]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c1].[Id] AS [Id1], [m0].[Id] AS [Id2], [p].[Id] AS [Id3], [d2].[Id] AS [Id4], [d2].[DateCreation] AS [DateCreation0], [d2].[DateModification] AS [DateModification0], [d2].[Donnees], [d2].[Extension], [d2].[FilePath], [d2].[IdDemande], [d2].[Nom], [d2].[UtilisateurCreation] AS [UtilisateurCreation0], [d2].[UtilisateurModification] AS [UtilisateurModification0], [c1].[Code] AS [Code0], [c1].[DateCreation] AS [DateCreation1], [c1].[DateModification] AS [DateModification1], [c1].[FormuleHomologation], [c1].[FraisControle], [c1].[FraisEtude], [c1].[FraisHomologation], [c1].[FraisHomologationParLot], [c1].[FraisHomologationQuantiteParLot], [c1].[Libelle] AS [Libelle0], [c1].[QuantiteReference], [c1].[Remarques], [c1].[TypeClient], [c1].[TypeEquipement], [c1].[UtilisateurCreation] AS [UtilisateurCreation1], [c1].[UtilisateurModification] AS [UtilisateurModification1], [m0].[Code] AS [Code1], [m0].[DateCreation] AS [DateCreation2], [m0].[DateModification] AS [DateModification2], [m0].[Libelle] AS [Libelle1], [m0].[Remarques] AS [Remarques0], [m0].[UtilisateurCreation] AS [UtilisateurCreation2], [m0].[UtilisateurModification] AS [UtilisateurModification2], [p].[Code] AS [Code2], [p].[DateCreation] AS [DateCreation3], [p].[DateModification] AS [DateModification3], [p].[Libelle] AS [Libelle2], [p].[UtilisateurCreation] AS [UtilisateurCreation3], [p].[UtilisateurModification] AS [UtilisateurModification3]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[IdStatut] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c1] ON [d1].[IdCategorie] = [c1].[Id]
    LEFT JOIN [motifsRejets] AS [m0] ON [d1].[IdMotifRejet] = [m0].[Id]
    LEFT JOIN [propositions] AS [p] ON [d1].[IdProposition] = [p].[Id]
    LEFT JOIN [documentsDemandes] AS [d2] ON [d1].[Id] = [d2].[IdDemande]
) AS [s2] ON [s1].[Id] = [s2].[IdDossier]
ORDER BY [s1].[Id], [s1].[Id0], [s1].[Id1], [s1].[Id2], [c0].[Id], [d0].[Id], [s2].[Id], [s2].[Id0], [s2].[Id1], [s2].[Id2], [s2].[Id3]
2026-02-12 16:54:28.760 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_AttestationId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DateCreation], [a].[DateDelivrance], [a].[DateExpiration], [a].[DateModification], [a].[Donnees], [a].[Extension], [a].[IdDemande], [a].[NumeroSequentiel], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a].[VisaReference], [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [attestations] AS [a]
INNER JOIN [demandes] AS [d] ON [a].[IdDemande] = [d].[Id]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [a].[Id] = @__request_AttestationId_0
2026-02-12 16:54:28.997 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0_endswith='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [attestations] AS [a]
WHERE [a].[VisaReference] IS NOT NULL AND [a].[VisaReference] LIKE @__p_0_endswith ESCAPE N'\'
2026-02-12 16:54:29.008 +01:00 [INF] Génération visa : N°1/ARPCE-DG/DAJI/DRSCE/26
2026-02-12 16:54:29.032 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = N'Signe'
2026-02-12 16:54:29.210 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = -1) (DbType = Binary), @p5='?' (Size = 12), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p15='?' (DbType = Guid), @p12='?' (DbType = Int64), @p13='?' (DbType = Guid), @p14='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [attestations] SET [DateCreation] = @p0, [DateDelivrance] = @p1, [DateExpiration] = @p2, [DateModification] = @p3, [Donnees] = @p4, [Extension] = @p5, [IdDemande] = @p6, [NumeroSequentiel] = @p7, [UtilisateurCreation] = @p8, [UtilisateurModification] = @p9, [VisaReference] = @p10
OUTPUT 1
WHERE [Id] = @p11;
UPDATE [demandes] SET [DateModification] = @p12, [IdStatut] = @p13, [UtilisateurModification] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2026-02-12 16:54:29.247 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__dossier_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [demandes] AS [d]
LEFT JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[IdDossier] = @__dossier_Id_0
2026-02-12 16:54:29.410 +01:00 [ERR] Erreur lors de l'upload du certificat
System.InvalidOperationException: The LINQ expression 'DbSet<Attestation>()
    .Join(
        inner: DbSet<Demande>(), 
        outerKeySelector: a => EF.Property<Guid?>(a, "IdDemande"), 
        innerKeySelector: d => EF.Property<Guid?>(d, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<Attestation, Demande>(
            Outer = o, 
            Inner = i
        ))
    .Where(a => a.Inner.IdDossier == __dossier_Id_0 && a.Outer.Donnees != null && a.Outer.Donnees
        .Any())' could not be translated. Additional information: Translation of method 'System.Linq.Enumerable.Any' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BackOffice.Application.Features.Demandes.Commands.UploadCertificat.UploadCertificatCommandHandler.Handle(UploadCertificatCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\UploadCertificat\UploadCertificatCommandHandler.cs:line 98
2026-02-12 16:59:16.003 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 16:59:16.059 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 16:59:16.229 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 16:59:16.233 +01:00 [INF] Hosting environment: Development
2026-02-12 16:59:16.237 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 16:59:40.285 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 16:59:44.029 +01:00 [INF] Executed DbCommand (89ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 16:59:44.914 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 17:00:40.055 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_AttestationId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DateCreation], [a].[DateDelivrance], [a].[DateExpiration], [a].[DateModification], [a].[Donnees], [a].[Extension], [a].[IdDemande], [a].[NumeroSequentiel], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a].[VisaReference], [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [attestations] AS [a]
INNER JOIN [demandes] AS [d] ON [a].[IdDemande] = [d].[Id]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [a].[Id] = @__request_AttestationId_0
2026-02-12 17:00:40.274 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0_endswith='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [attestations] AS [a]
WHERE [a].[VisaReference] IS NOT NULL AND [a].[VisaReference] LIKE @__p_0_endswith ESCAPE N'\'
2026-02-12 17:00:40.306 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = N'Signe'
2026-02-12 17:00:40.459 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = -1) (DbType = Binary), @p5='?' (Size = 12), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p15='?' (DbType = Guid), @p12='?' (DbType = Int64), @p13='?' (DbType = Guid), @p14='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [attestations] SET [DateCreation] = @p0, [DateDelivrance] = @p1, [DateExpiration] = @p2, [DateModification] = @p3, [Donnees] = @p4, [Extension] = @p5, [IdDemande] = @p6, [NumeroSequentiel] = @p7, [UtilisateurCreation] = @p8, [UtilisateurModification] = @p9, [VisaReference] = @p10
OUTPUT 1
WHERE [Id] = @p11;
UPDATE [demandes] SET [DateModification] = @p12, [IdStatut] = @p13, [UtilisateurModification] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2026-02-12 17:00:40.498 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dossier_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [demandes] AS [d]
LEFT JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[IdDossier] = @__dossier_Id_0
2026-02-12 17:00:40.664 +01:00 [ERR] Erreur lors de l'upload du certificat
System.InvalidOperationException: The LINQ expression 'DbSet<Attestation>()
    .Join(
        inner: DbSet<Demande>(), 
        outerKeySelector: a => EF.Property<Guid?>(a, "IdDemande"), 
        innerKeySelector: d => EF.Property<Guid?>(d, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<Attestation, Demande>(
            Outer = o, 
            Inner = i
        ))
    .Where(a => a.Inner.IdDossier == __dossier_Id_0 && a.Outer.Donnees != null && a.Outer.Donnees
        .Any())' could not be translated. Additional information: Translation of method 'System.Linq.Enumerable.Any' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BackOffice.Application.Features.Demandes.Commands.UploadCertificat.UploadCertificatCommandHandler.Handle(UploadCertificatCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\UploadCertificat\UploadCertificatCommandHandler.cs:line 100
2026-02-12 17:06:57.132 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 17:06:57.257 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 17:06:57.511 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 17:06:57.514 +01:00 [INF] Hosting environment: Development
2026-02-12 17:06:57.518 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 17:07:13.829 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 17:07:21.385 +01:00 [INF] Executed DbCommand (268ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 17:07:23.103 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 17:08:22.131 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_AttestationId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DateCreation], [a].[DateDelivrance], [a].[DateExpiration], [a].[DateModification], [a].[Donnees], [a].[Extension], [a].[IdDemande], [a].[NumeroSequentiel], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a].[VisaReference], [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [attestations] AS [a]
INNER JOIN [demandes] AS [d] ON [a].[IdDemande] = [d].[Id]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [a].[Id] = @__request_AttestationId_0
2026-02-12 17:08:22.579 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0_endswith='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [attestations] AS [a]
WHERE [a].[VisaReference] IS NOT NULL AND [a].[VisaReference] LIKE @__p_0_endswith ESCAPE N'\'
2026-02-12 17:08:22.634 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = N'Signe'
2026-02-12 17:08:22.889 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = -1) (DbType = Binary), @p5='?' (Size = 12), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p15='?' (DbType = Guid), @p12='?' (DbType = Int64), @p13='?' (DbType = Guid), @p14='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [attestations] SET [DateCreation] = @p0, [DateDelivrance] = @p1, [DateExpiration] = @p2, [DateModification] = @p3, [Donnees] = @p4, [Extension] = @p5, [IdDemande] = @p6, [NumeroSequentiel] = @p7, [UtilisateurCreation] = @p8, [UtilisateurModification] = @p9, [VisaReference] = @p10
OUTPUT 1
WHERE [Id] = @p11;
UPDATE [demandes] SET [DateModification] = @p12, [IdStatut] = @p13, [UtilisateurModification] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2026-02-12 17:08:22.955 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__dossier_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [demandes] AS [d]
LEFT JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[IdDossier] = @__dossier_Id_0
2026-02-12 17:08:23.374 +01:00 [ERR] Erreur lors de l'upload du certificat
System.InvalidOperationException: The LINQ expression 'DbSet<Attestation>()
    .Where(a => __demandeIds_0
        .Contains(a.IdDemande) && a.Donnees != null && a.Donnees
        .Any())' could not be translated. Additional information: Translation of method 'System.Linq.Enumerable.Any' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BackOffice.Application.Features.Demandes.Commands.UploadCertificat.UploadCertificatCommandHandler.Handle(UploadCertificatCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\UploadCertificat\UploadCertificatCommandHandler.cs:line 104
2026-02-12 17:13:34.917 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 17:13:34.984 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 17:13:35.158 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 17:13:35.162 +01:00 [INF] Hosting environment: Development
2026-02-12 17:13:35.164 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 17:13:53.506 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 17:13:56.701 +01:00 [INF] Executed DbCommand (78ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 17:13:57.538 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 17:14:50.506 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_AttestationId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DateCreation], [a].[DateDelivrance], [a].[DateExpiration], [a].[DateModification], [a].[Donnees], [a].[Extension], [a].[IdDemande], [a].[NumeroSequentiel], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a].[VisaReference], [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [attestations] AS [a]
INNER JOIN [demandes] AS [d] ON [a].[IdDemande] = [d].[Id]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [a].[Id] = @__request_AttestationId_0
2026-02-12 17:14:50.813 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0_endswith='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [attestations] AS [a]
WHERE [a].[VisaReference] IS NOT NULL AND [a].[VisaReference] LIKE @__p_0_endswith ESCAPE N'\'
2026-02-12 17:14:50.859 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = N'Signe'
2026-02-12 17:14:51.097 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = -1) (DbType = Binary), @p5='?' (Size = 12), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p15='?' (DbType = Guid), @p12='?' (DbType = Int64), @p13='?' (DbType = Guid), @p14='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [attestations] SET [DateCreation] = @p0, [DateDelivrance] = @p1, [DateExpiration] = @p2, [DateModification] = @p3, [Donnees] = @p4, [Extension] = @p5, [IdDemande] = @p6, [NumeroSequentiel] = @p7, [UtilisateurCreation] = @p8, [UtilisateurModification] = @p9, [VisaReference] = @p10
OUTPUT 1
WHERE [Id] = @p11;
UPDATE [demandes] SET [DateModification] = @p12, [IdStatut] = @p13, [UtilisateurModification] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2026-02-12 17:14:51.200 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__dossier_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [demandes] AS [d]
LEFT JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[IdDossier] = @__dossier_Id_0
2026-02-12 17:14:51.493 +01:00 [ERR] Erreur lors de l'upload du certificat
System.InvalidOperationException: The LINQ expression 'DbSet<Attestation>()
    .Where(a => __demandeIds_0
        .Contains(a.IdDemande) && a.Donnees != null && a.Donnees
        .Any())' could not be translated. Additional information: Translation of method 'System.Linq.Enumerable.Any' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BackOffice.Application.Features.Demandes.Commands.UploadCertificat.UploadCertificatCommandHandler.Handle(UploadCertificatCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\UploadCertificat\UploadCertificatCommandHandler.cs:line 104
2026-02-12 17:19:25.379 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 17:19:25.443 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 17:19:25.609 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 17:19:25.612 +01:00 [INF] Hosting environment: Development
2026-02-12 17:19:25.616 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 17:19:42.055 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 17:19:46.545 +01:00 [INF] Executed DbCommand (89ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 17:19:47.551 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 17:20:52.283 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_AttestationId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DateCreation], [a].[DateDelivrance], [a].[DateExpiration], [a].[DateModification], [a].[Donnees], [a].[Extension], [a].[IdDemande], [a].[NumeroSequentiel], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a].[VisaReference], [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [attestations] AS [a]
INNER JOIN [demandes] AS [d] ON [a].[IdDemande] = [d].[Id]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [a].[Id] = @__request_AttestationId_0
2026-02-12 17:20:52.563 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0_endswith='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [attestations] AS [a]
WHERE [a].[VisaReference] IS NOT NULL AND [a].[VisaReference] LIKE @__p_0_endswith ESCAPE N'\'
2026-02-12 17:20:52.596 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = N'Signe'
2026-02-12 17:20:52.784 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = -1) (DbType = Binary), @p5='?' (Size = 12), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p15='?' (DbType = Guid), @p12='?' (DbType = Int64), @p13='?' (DbType = Guid), @p14='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [attestations] SET [DateCreation] = @p0, [DateDelivrance] = @p1, [DateExpiration] = @p2, [DateModification] = @p3, [Donnees] = @p4, [Extension] = @p5, [IdDemande] = @p6, [NumeroSequentiel] = @p7, [UtilisateurCreation] = @p8, [UtilisateurModification] = @p9, [VisaReference] = @p10
OUTPUT 1
WHERE [Id] = @p11;
UPDATE [demandes] SET [DateModification] = @p12, [IdStatut] = @p13, [UtilisateurModification] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2026-02-12 17:20:52.829 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dossier_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [demandes] AS [d]
LEFT JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[IdDossier] = @__dossier_Id_0
2026-02-12 17:20:53.028 +01:00 [ERR] Erreur lors de l'upload du certificat
System.InvalidOperationException: The LINQ expression 'DbSet<Attestation>()
    .Where(a => __demandeIds_0
        .Contains(a.IdDemande) && a.Donnees != null && a.Donnees
        .Any())' could not be translated. Additional information: Translation of method 'System.Linq.Enumerable.Any' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BackOffice.Application.Features.Demandes.Commands.UploadCertificat.UploadCertificatCommandHandler.Handle(UploadCertificatCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\UploadCertificat\UploadCertificatCommandHandler.cs:line 104
2026-02-12 17:29:46.741 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 17:29:46.796 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 17:29:46.957 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 17:29:46.961 +01:00 [INF] Hosting environment: Development
2026-02-12 17:29:46.963 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 17:30:07.595 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 17:30:13.638 +01:00 [INF] Executed DbCommand (144ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 17:30:14.426 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 17:31:18.118 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_AttestationId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DateCreation], [a].[DateDelivrance], [a].[DateExpiration], [a].[DateModification], [a].[Donnees], [a].[Extension], [a].[IdDemande], [a].[NumeroSequentiel], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a].[VisaReference], [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [attestations] AS [a]
INNER JOIN [demandes] AS [d] ON [a].[IdDemande] = [d].[Id]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [a].[Id] = @__request_AttestationId_0
2026-02-12 17:31:18.351 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0_endswith='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [attestations] AS [a]
WHERE [a].[VisaReference] IS NOT NULL AND [a].[VisaReference] LIKE @__p_0_endswith ESCAPE N'\'
2026-02-12 17:31:18.386 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = N'Signe'
2026-02-12 17:31:18.533 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = -1) (DbType = Binary), @p5='?' (Size = 12), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p15='?' (DbType = Guid), @p12='?' (DbType = Int64), @p13='?' (DbType = Guid), @p14='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [attestations] SET [DateCreation] = @p0, [DateDelivrance] = @p1, [DateExpiration] = @p2, [DateModification] = @p3, [Donnees] = @p4, [Extension] = @p5, [IdDemande] = @p6, [NumeroSequentiel] = @p7, [UtilisateurCreation] = @p8, [UtilisateurModification] = @p9, [VisaReference] = @p10
OUTPUT 1
WHERE [Id] = @p11;
UPDATE [demandes] SET [DateModification] = @p12, [IdStatut] = @p13, [UtilisateurModification] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2026-02-12 17:31:18.568 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dossier_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [demandes] AS [d]
LEFT JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[IdDossier] = @__dossier_Id_0
2026-02-12 17:31:18.758 +01:00 [ERR] Erreur lors de l'upload du certificat
System.InvalidOperationException: The LINQ expression 'DbSet<Attestation>()
    .Where(a => __demandeIds_0
        .Contains(a.IdDemande) && a.Donnees != null && a.Donnees
        .Any())' could not be translated. Additional information: Translation of method 'System.Linq.Enumerable.Any' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BackOffice.Application.Features.Demandes.Commands.UploadCertificat.UploadCertificatCommandHandler.Handle(UploadCertificatCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Demandes\Commands\UploadCertificat\UploadCertificatCommandHandler.cs:line 104
2026-02-12 17:35:21.433 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 17:35:21.735 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 17:35:22.723 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 17:35:22.919 +01:00 [INF] Hosting environment: Development
2026-02-12 17:35:23.263 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 17:35:41.139 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 17:35:44.666 +01:00 [INF] Executed DbCommand (72ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 17:35:45.745 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 17:37:29.097 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_AttestationId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DateCreation], [a].[DateDelivrance], [a].[DateExpiration], [a].[DateModification], [a].[Donnees], [a].[Extension], [a].[IdDemande], [a].[NumeroSequentiel], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a].[VisaReference], [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [attestations] AS [a]
INNER JOIN [demandes] AS [d] ON [a].[IdDemande] = [d].[Id]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [a].[Id] = @__request_AttestationId_0
2026-02-12 17:37:29.329 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0_endswith='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [attestations] AS [a]
WHERE [a].[VisaReference] IS NOT NULL AND [a].[VisaReference] LIKE @__p_0_endswith ESCAPE N'\'
2026-02-12 17:37:29.361 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = N'Signe'
2026-02-12 17:37:29.673 +01:00 [INF] Executed DbCommand (174ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = -1) (DbType = Binary), @p5='?' (Size = 12), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p15='?' (DbType = Guid), @p12='?' (DbType = Int64), @p13='?' (DbType = Guid), @p14='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [attestations] SET [DateCreation] = @p0, [DateDelivrance] = @p1, [DateExpiration] = @p2, [DateModification] = @p3, [Donnees] = @p4, [Extension] = @p5, [IdDemande] = @p6, [NumeroSequentiel] = @p7, [UtilisateurCreation] = @p8, [UtilisateurModification] = @p9, [VisaReference] = @p10
OUTPUT 1
WHERE [Id] = @p11;
UPDATE [demandes] SET [DateModification] = @p12, [IdStatut] = @p13, [UtilisateurModification] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2026-02-12 17:37:29.730 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dossier_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [demandes] AS [d]
LEFT JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[IdDossier] = @__dossier_Id_0
2026-02-12 17:37:29.906 +01:00 [INF] Executed DbCommand (77ms) [Parameters=[@__demandeIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[IdDemande], [a].[Donnees]
FROM [attestations] AS [a]
WHERE [a].[IdDemande] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__demandeIds_0) WITH ([value] uniqueidentifier '$') AS [d]
)
2026-02-12 17:37:29.984 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__eventTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Code], [a].[Libelle]
FROM [adminEvenementsTypes] AS [a]
WHERE [a].[Code] = @__eventTypeCode_0
2026-02-12 17:37:30.096 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?' (DbType = Guid), @p13='?' (Size = 4000), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Id], [DateCreation], [DateEnvoi], [DateModification], [EntityId], [IsBroadcast], [IsRead], [Message], [ProfilCode], [TargetUrl], [Title], [Type], [UserId], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-12 17:37:30.118 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?' (DbType = Guid), @p13='?' (Size = 4000), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Id], [DateCreation], [DateEnvoi], [DateModification], [EntityId], [IsBroadcast], [IsRead], [Message], [ProfilCode], [TargetUrl], [Title], [Type], [UserId], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-12 17:38:03.766 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-12 17:38:03.909 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[DateCreation], [s1].[DateModification], [s1].[DateOuverture], [s1].[IdAgentInstructeur], [s1].[IdClient], [s1].[IdModeReglement], [s1].[IdStatut], [s1].[Libelle], [s1].[Numero], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Adresse], [s1].[Bp], [s1].[ChangementMotPasse], [s1].[Code], [s1].[ContactFonction], [s1].[ContactNom], [s1].[ContactTelephone], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Desactive], [s1].[Email], [s1].[IsVerified], [s1].[MotPasse], [s1].[NiveauValidation], [s1].[Pays], [s1].[RaisonSociale], [s1].[RegistreCommerce], [s1].[Remarques], [s1].[TypeClient], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[VerificationCode], [s1].[VerificationTokenExpiry], [s1].[Ville], [s1].[Id1], [s1].[Code0], [s1].[Libelle0], [s1].[Id2], [s1].[Code1], [s1].[DateCreation1], [s1].[DateModification1], [s1].[Libelle1], [s1].[MobileBanking], [s1].[Remarques0], [s1].[UtilisateurCreation1], [s1].[UtilisateurModification1], [c0].[Id], [c0].[commentaire], [c0].[DateCommentaire], [c0].[DateCreation], [c0].[DateModification], [c0].[IdDossier], [c0].[NomInstructeur], [c0].[Proposition], [c0].[UtilisateurCreation], [c0].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[Donnees], [d0].[Extension], [d0].[FilePath], [d0].[IdDossier], [d0].[Nom], [d0].[Type], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [s2].[Id], [s2].[ContactEmail], [s2].[ContactNom], [s2].[DateCreation], [s2].[DateModification], [s2].[Description], [s2].[Equipement], [s2].[EstHomologable], [s2].[Fabricant], [s2].[IdCategorie], [s2].[IdDossier], [s2].[IdMotifRejet], [s2].[IdProposition], [s2].[IdStatut], [s2].[Marque], [s2].[Modele], [s2].[NumeroDemande], [s2].[PrixUnitaire], [s2].[QuantiteEquipements], [s2].[Remise], [s2].[Type], [s2].[UtilisateurCreation], [s2].[UtilisateurModification], [s2].[Id0], [s2].[Code], [s2].[Libelle], [s2].[Id1], [s2].[Id2], [s2].[Id3], [s2].[Id4], [s2].[DateCreation0], [s2].[DateModification0], [s2].[Donnees], [s2].[Extension], [s2].[FilePath], [s2].[IdDemande], [s2].[Nom], [s2].[UtilisateurCreation0], [s2].[UtilisateurModification0], [s2].[Code0], [s2].[DateCreation1], [s2].[DateModification1], [s2].[FormuleHomologation], [s2].[FraisControle], [s2].[FraisEtude], [s2].[FraisHomologation], [s2].[FraisHomologationParLot], [s2].[FraisHomologationQuantiteParLot], [s2].[Libelle0], [s2].[QuantiteReference], [s2].[Remarques], [s2].[TypeClient], [s2].[TypeEquipement], [s2].[UtilisateurCreation1], [s2].[UtilisateurModification1], [s2].[Code1], [s2].[DateCreation2], [s2].[DateModification2], [s2].[Libelle1], [s2].[Remarques0], [s2].[UtilisateurCreation2], [s2].[UtilisateurModification2], [s2].[Code2], [s2].[DateCreation3], [s2].[DateModification3], [s2].[Libelle2], [s2].[UtilisateurCreation3], [s2].[UtilisateurModification3]
FROM (
    SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [c].[Id] AS [Id0], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation] AS [DateCreation0], [c].[DateModification] AS [DateModification0], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation] AS [UtilisateurCreation0], [c].[UtilisateurModification] AS [UtilisateurModification0], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id] AS [Id1], [s].[Code] AS [Code0], [s].[Libelle] AS [Libelle0], [m].[Id] AS [Id2], [m].[Code] AS [Code1], [m].[DateCreation] AS [DateCreation1], [m].[DateModification] AS [DateModification1], [m].[Libelle] AS [Libelle1], [m].[MobileBanking], [m].[Remarques] AS [Remarques0], [m].[UtilisateurCreation] AS [UtilisateurCreation1], [m].[UtilisateurModification] AS [UtilisateurModification1]
    FROM [dossiers] AS [d]
    INNER JOIN [clients] AS [c] ON [d].[IdClient] = [c].[Id]
    INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
    LEFT JOIN [modesReglements] AS [m] ON [d].[IdModeReglement] = [m].[Id]
    WHERE [d].[Id] = @__request_DossierId_0
) AS [s1]
LEFT JOIN [commentaires] AS [c0] ON [s1].[Id] = [c0].[IdDossier]
LEFT JOIN [documentsDossiers] AS [d0] ON [s1].[Id] = [d0].[IdDossier]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c1].[Id] AS [Id1], [m0].[Id] AS [Id2], [p].[Id] AS [Id3], [d2].[Id] AS [Id4], [d2].[DateCreation] AS [DateCreation0], [d2].[DateModification] AS [DateModification0], [d2].[Donnees], [d2].[Extension], [d2].[FilePath], [d2].[IdDemande], [d2].[Nom], [d2].[UtilisateurCreation] AS [UtilisateurCreation0], [d2].[UtilisateurModification] AS [UtilisateurModification0], [c1].[Code] AS [Code0], [c1].[DateCreation] AS [DateCreation1], [c1].[DateModification] AS [DateModification1], [c1].[FormuleHomologation], [c1].[FraisControle], [c1].[FraisEtude], [c1].[FraisHomologation], [c1].[FraisHomologationParLot], [c1].[FraisHomologationQuantiteParLot], [c1].[Libelle] AS [Libelle0], [c1].[QuantiteReference], [c1].[Remarques], [c1].[TypeClient], [c1].[TypeEquipement], [c1].[UtilisateurCreation] AS [UtilisateurCreation1], [c1].[UtilisateurModification] AS [UtilisateurModification1], [m0].[Code] AS [Code1], [m0].[DateCreation] AS [DateCreation2], [m0].[DateModification] AS [DateModification2], [m0].[Libelle] AS [Libelle1], [m0].[Remarques] AS [Remarques0], [m0].[UtilisateurCreation] AS [UtilisateurCreation2], [m0].[UtilisateurModification] AS [UtilisateurModification2], [p].[Code] AS [Code2], [p].[DateCreation] AS [DateCreation3], [p].[DateModification] AS [DateModification3], [p].[Libelle] AS [Libelle2], [p].[UtilisateurCreation] AS [UtilisateurCreation3], [p].[UtilisateurModification] AS [UtilisateurModification3]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[IdStatut] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c1] ON [d1].[IdCategorie] = [c1].[Id]
    LEFT JOIN [motifsRejets] AS [m0] ON [d1].[IdMotifRejet] = [m0].[Id]
    LEFT JOIN [propositions] AS [p] ON [d1].[IdProposition] = [p].[Id]
    LEFT JOIN [documentsDemandes] AS [d2] ON [d1].[Id] = [d2].[IdDemande]
) AS [s2] ON [s1].[Id] = [s2].[IdDossier]
ORDER BY [s1].[Id], [s1].[Id0], [s1].[Id1], [s1].[Id2], [c0].[Id], [d0].[Id], [s2].[Id], [s2].[Id0], [s2].[Id1], [s2].[Id2], [s2].[Id3]
2026-02-12 17:45:20.896 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_AttestationId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DateCreation], [a].[DateDelivrance], [a].[DateExpiration], [a].[DateModification], [a].[Donnees], [a].[Extension], [a].[IdDemande], [a].[NumeroSequentiel], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a].[VisaReference], [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification]
FROM [attestations] AS [a]
INNER JOIN [demandes] AS [d] ON [a].[IdDemande] = [d].[Id]
INNER JOIN [dossiers] AS [d0] ON [d].[IdDossier] = [d0].[Id]
WHERE [a].[Id] = @__request_AttestationId_0
2026-02-12 17:45:20.936 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = N'Signe'
2026-02-12 17:45:20.979 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = -1) (DbType = Binary), @p5='?' (Size = 12), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [attestations] SET [DateCreation] = @p0, [DateDelivrance] = @p1, [DateExpiration] = @p2, [DateModification] = @p3, [Donnees] = @p4, [Extension] = @p5, [IdDemande] = @p6, [NumeroSequentiel] = @p7, [UtilisateurCreation] = @p8, [UtilisateurModification] = @p9, [VisaReference] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2026-02-12 17:45:20.989 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dossier_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ContactEmail], [d].[ContactNom], [d].[DateCreation], [d].[DateModification], [d].[Description], [d].[Equipement], [d].[EstHomologable], [d].[Fabricant], [d].[IdCategorie], [d].[IdDossier], [d].[IdMotifRejet], [d].[IdProposition], [d].[IdStatut], [d].[Marque], [d].[Modele], [d].[NumeroDemande], [d].[PrixUnitaire], [d].[QuantiteEquipements], [d].[Remise], [d].[Type], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [demandes] AS [d]
LEFT JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[IdDossier] = @__dossier_Id_0
2026-02-12 17:45:21.001 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__demandeIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[IdDemande], [a].[Donnees]
FROM [attestations] AS [a]
WHERE [a].[IdDemande] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__demandeIds_0) WITH ([value] uniqueidentifier '$') AS [d]
)
2026-02-12 17:45:21.031 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Code], [s].[Libelle]
FROM [statuts] AS [s]
WHERE [s].[Code] = N'DossierSigner'
2026-02-12 17:45:21.053 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (Size = 120), @p8='?' (Size = 30), @p9='?' (Size = 60), @p10='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [dossiers] SET [DateCreation] = @p0, [DateModification] = @p1, [DateOuverture] = @p2, [IdAgentInstructeur] = @p3, [IdClient] = @p4, [IdModeReglement] = @p5, [IdStatut] = @p6, [Libelle] = @p7, [Numero] = @p8, [UtilisateurCreation] = @p9, [UtilisateurModification] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2026-02-12 17:45:21.069 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__eventTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Code], [a].[Libelle]
FROM [adminEvenementsTypes] AS [a]
WHERE [a].[Code] = @__eventTypeCode_0
2026-02-12 17:45:21.080 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?' (DbType = Guid), @p13='?' (Size = 4000), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Id], [DateCreation], [DateEnvoi], [DateModification], [EntityId], [IsBroadcast], [IsRead], [Message], [ProfilCode], [TargetUrl], [Title], [Type], [UserId], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-12 17:45:21.090 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?' (DbType = Guid), @p13='?' (Size = 4000), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Id], [DateCreation], [DateEnvoi], [DateModification], [EntityId], [IsBroadcast], [IsRead], [Message], [ProfilCode], [TargetUrl], [Title], [Type], [UserId], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-12 17:45:27.405 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[DateCreation], [s1].[DateModification], [s1].[DateOuverture], [s1].[IdAgentInstructeur], [s1].[IdClient], [s1].[IdModeReglement], [s1].[IdStatut], [s1].[Libelle], [s1].[Numero], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Adresse], [s1].[Bp], [s1].[ChangementMotPasse], [s1].[Code], [s1].[ContactFonction], [s1].[ContactNom], [s1].[ContactTelephone], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Desactive], [s1].[Email], [s1].[IsVerified], [s1].[MotPasse], [s1].[NiveauValidation], [s1].[Pays], [s1].[RaisonSociale], [s1].[RegistreCommerce], [s1].[Remarques], [s1].[TypeClient], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[VerificationCode], [s1].[VerificationTokenExpiry], [s1].[Ville], [s1].[Id1], [s1].[Code0], [s1].[Libelle0], [s1].[Id2], [s1].[Code1], [s1].[DateCreation1], [s1].[DateModification1], [s1].[Libelle1], [s1].[MobileBanking], [s1].[Remarques0], [s1].[UtilisateurCreation1], [s1].[UtilisateurModification1], [c0].[Id], [c0].[commentaire], [c0].[DateCommentaire], [c0].[DateCreation], [c0].[DateModification], [c0].[IdDossier], [c0].[NomInstructeur], [c0].[Proposition], [c0].[UtilisateurCreation], [c0].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[Donnees], [d0].[Extension], [d0].[FilePath], [d0].[IdDossier], [d0].[Nom], [d0].[Type], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [s2].[Id], [s2].[ContactEmail], [s2].[ContactNom], [s2].[DateCreation], [s2].[DateModification], [s2].[Description], [s2].[Equipement], [s2].[EstHomologable], [s2].[Fabricant], [s2].[IdCategorie], [s2].[IdDossier], [s2].[IdMotifRejet], [s2].[IdProposition], [s2].[IdStatut], [s2].[Marque], [s2].[Modele], [s2].[NumeroDemande], [s2].[PrixUnitaire], [s2].[QuantiteEquipements], [s2].[Remise], [s2].[Type], [s2].[UtilisateurCreation], [s2].[UtilisateurModification], [s2].[Id0], [s2].[Code], [s2].[Libelle], [s2].[Id1], [s2].[Id2], [s2].[Id3], [s2].[Id4], [s2].[DateCreation0], [s2].[DateModification0], [s2].[Donnees], [s2].[Extension], [s2].[FilePath], [s2].[IdDemande], [s2].[Nom], [s2].[UtilisateurCreation0], [s2].[UtilisateurModification0], [s2].[Code0], [s2].[DateCreation1], [s2].[DateModification1], [s2].[FormuleHomologation], [s2].[FraisControle], [s2].[FraisEtude], [s2].[FraisHomologation], [s2].[FraisHomologationParLot], [s2].[FraisHomologationQuantiteParLot], [s2].[Libelle0], [s2].[QuantiteReference], [s2].[Remarques], [s2].[TypeClient], [s2].[TypeEquipement], [s2].[UtilisateurCreation1], [s2].[UtilisateurModification1], [s2].[Code1], [s2].[DateCreation2], [s2].[DateModification2], [s2].[Libelle1], [s2].[Remarques0], [s2].[UtilisateurCreation2], [s2].[UtilisateurModification2], [s2].[Code2], [s2].[DateCreation3], [s2].[DateModification3], [s2].[Libelle2], [s2].[UtilisateurCreation3], [s2].[UtilisateurModification3]
FROM (
    SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [c].[Id] AS [Id0], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation] AS [DateCreation0], [c].[DateModification] AS [DateModification0], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation] AS [UtilisateurCreation0], [c].[UtilisateurModification] AS [UtilisateurModification0], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id] AS [Id1], [s].[Code] AS [Code0], [s].[Libelle] AS [Libelle0], [m].[Id] AS [Id2], [m].[Code] AS [Code1], [m].[DateCreation] AS [DateCreation1], [m].[DateModification] AS [DateModification1], [m].[Libelle] AS [Libelle1], [m].[MobileBanking], [m].[Remarques] AS [Remarques0], [m].[UtilisateurCreation] AS [UtilisateurCreation1], [m].[UtilisateurModification] AS [UtilisateurModification1]
    FROM [dossiers] AS [d]
    INNER JOIN [clients] AS [c] ON [d].[IdClient] = [c].[Id]
    INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
    LEFT JOIN [modesReglements] AS [m] ON [d].[IdModeReglement] = [m].[Id]
    WHERE [d].[Id] = @__request_DossierId_0
) AS [s1]
LEFT JOIN [commentaires] AS [c0] ON [s1].[Id] = [c0].[IdDossier]
LEFT JOIN [documentsDossiers] AS [d0] ON [s1].[Id] = [d0].[IdDossier]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c1].[Id] AS [Id1], [m0].[Id] AS [Id2], [p].[Id] AS [Id3], [d2].[Id] AS [Id4], [d2].[DateCreation] AS [DateCreation0], [d2].[DateModification] AS [DateModification0], [d2].[Donnees], [d2].[Extension], [d2].[FilePath], [d2].[IdDemande], [d2].[Nom], [d2].[UtilisateurCreation] AS [UtilisateurCreation0], [d2].[UtilisateurModification] AS [UtilisateurModification0], [c1].[Code] AS [Code0], [c1].[DateCreation] AS [DateCreation1], [c1].[DateModification] AS [DateModification1], [c1].[FormuleHomologation], [c1].[FraisControle], [c1].[FraisEtude], [c1].[FraisHomologation], [c1].[FraisHomologationParLot], [c1].[FraisHomologationQuantiteParLot], [c1].[Libelle] AS [Libelle0], [c1].[QuantiteReference], [c1].[Remarques], [c1].[TypeClient], [c1].[TypeEquipement], [c1].[UtilisateurCreation] AS [UtilisateurCreation1], [c1].[UtilisateurModification] AS [UtilisateurModification1], [m0].[Code] AS [Code1], [m0].[DateCreation] AS [DateCreation2], [m0].[DateModification] AS [DateModification2], [m0].[Libelle] AS [Libelle1], [m0].[Remarques] AS [Remarques0], [m0].[UtilisateurCreation] AS [UtilisateurCreation2], [m0].[UtilisateurModification] AS [UtilisateurModification2], [p].[Code] AS [Code2], [p].[DateCreation] AS [DateCreation3], [p].[DateModification] AS [DateModification3], [p].[Libelle] AS [Libelle2], [p].[UtilisateurCreation] AS [UtilisateurCreation3], [p].[UtilisateurModification] AS [UtilisateurModification3]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[IdStatut] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c1] ON [d1].[IdCategorie] = [c1].[Id]
    LEFT JOIN [motifsRejets] AS [m0] ON [d1].[IdMotifRejet] = [m0].[Id]
    LEFT JOIN [propositions] AS [p] ON [d1].[IdProposition] = [p].[Id]
    LEFT JOIN [documentsDemandes] AS [d2] ON [d1].[Id] = [d2].[IdDemande]
) AS [s2] ON [s1].[Id] = [s2].[IdDossier]
ORDER BY [s1].[Id], [s1].[Id0], [s1].[Id1], [s1].[Id2], [c0].[Id], [d0].[Id], [s2].[Id], [s2].[Id0], [s2].[Id1], [s2].[Id2], [s2].[Id3]
2026-02-12 18:09:55.475 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Id] = @__userId_0
2026-02-12 18:09:55.501 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 OR [n].[IsBroadcast] = CAST(1 AS bit)
2026-02-12 18:09:55.519 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[DateCreation], [n].[DateEnvoi], [n].[DateModification], [n].[EntityId], [n].[IsBroadcast], [n].[IsRead], [n].[Message], [n].[ProfilCode], [n].[TargetUrl], [n].[Title], [n].[Type], [n].[UserId], [n].[UtilisateurCreation], [n].[UtilisateurModification]
FROM [notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 OR [n].[IsBroadcast] = CAST(1 AS bit)
ORDER BY [n].[DateEnvoi] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2026-02-12 18:26:25.446 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 18:26:25.483 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 18:26:25.573 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 18:26:25.576 +01:00 [INF] Hosting environment: Development
2026-02-12 18:26:25.578 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 18:26:39.900 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 18:26:43.401 +01:00 [INF] Executed DbCommand (87ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 18:26:44.287 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 18:27:24.394 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Id] = @__userId_0
2026-02-12 18:27:24.468 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 OR [n].[IsBroadcast] = CAST(1 AS bit)
2026-02-12 18:27:24.503 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[DateCreation], [n].[DateEnvoi], [n].[DateModification], [n].[EntityId], [n].[IsBroadcast], [n].[IsRead], [n].[Message], [n].[ProfilCode], [n].[TargetUrl], [n].[Title], [n].[Type], [n].[UserId], [n].[UtilisateurCreation], [n].[UtilisateurModification]
FROM [notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 OR [n].[IsBroadcast] = CAST(1 AS bit)
ORDER BY [n].[DateEnvoi] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2026-02-12 18:59:01.781 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 18:59:01.817 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 18:59:01.909 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 18:59:01.912 +01:00 [INF] Hosting environment: Development
2026-02-12 18:59:01.915 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 18:59:23.838 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 18:59:27.156 +01:00 [INF] Executed DbCommand (65ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 18:59:27.993 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 18:59:57.409 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [notifications] AS [n]
2026-02-12 18:59:57.440 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[DateCreation], [n].[DateEnvoi], [n].[DateModification], [n].[EntityId], [n].[IsBroadcast], [n].[IsRead], [n].[Message], [n].[ProfilCode], [n].[TargetUrl], [n].[Title], [n].[Type], [n].[UserId], [n].[UtilisateurCreation], [n].[UtilisateurModification]
FROM [notifications] AS [n]
ORDER BY [n].[DateEnvoi] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-12 19:32:26.342 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 19:32:26.412 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 19:32:26.532 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 19:32:26.536 +01:00 [INF] Hosting environment: Development
2026-02-12 19:32:26.539 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 19:32:39.208 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 19:32:42.832 +01:00 [INF] Executed DbCommand (87ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 19:32:43.724 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 19:35:07.203 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [dossiers] AS [d]
INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[Id] = @__request_DossierId_0
2026-02-12 19:35:07.286 +01:00 [ERR] Échec de l'upload de la facture pour le dossier "aaaaaaaa-bbbb-cccc-dddd-eeeeffff0001"
System.Exception: Dossier introuvable.
   at BackOffice.Application.Features.Dossiers.Commands.UploadFacture.UploadFactureCommandHandler.Handle(UploadFactureCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\UploadFacture\UploadFactureCommandHandler.cs:line 41
2026-02-12 19:35:07.586 +01:00 [ERR] Une exception non gérée a été interceptée.
System.Exception: Dossier introuvable.
   at BackOffice.Application.Features.Dossiers.Commands.UploadFacture.UploadFactureCommandHandler.Handle(UploadFactureCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\UploadFacture\UploadFactureCommandHandler.cs:line 41
   at BackOffice.Application.Features.Dossiers.Commands.UploadFacture.UploadFactureCommandHandler.Handle(UploadFactureCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\UploadFacture\UploadFactureCommandHandler.cs:line 85
   at BackOffice.Api.Controllers.DossiersController.UploadFacture(Guid dossierId, UploadFactureCommand command) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Controllers\DossiersController.cs:line 251
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BackOffice.Api.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Middleware\ErrorHandlingMiddleware.cs:line 21
2026-02-12 19:39:48.815 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [dossiers] AS [d]
INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[Id] = @__request_DossierId_0
2026-02-12 19:39:48.870 +01:00 [ERR] Échec de l'upload de la facture pour le dossier "aaaaaaaa-bbbb-cccc-dddd-eeeeffff0001"
System.Exception: Dossier introuvable.
   at BackOffice.Application.Features.Dossiers.Commands.UploadFacture.UploadFactureCommandHandler.Handle(UploadFactureCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\UploadFacture\UploadFactureCommandHandler.cs:line 41
2026-02-12 19:39:49.052 +01:00 [ERR] Une exception non gérée a été interceptée.
System.Exception: Dossier introuvable.
   at BackOffice.Application.Features.Dossiers.Commands.UploadFacture.UploadFactureCommandHandler.Handle(UploadFactureCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\UploadFacture\UploadFactureCommandHandler.cs:line 41
   at BackOffice.Application.Features.Dossiers.Commands.UploadFacture.UploadFactureCommandHandler.Handle(UploadFactureCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\UploadFacture\UploadFactureCommandHandler.cs:line 85
   at BackOffice.Api.Controllers.DossiersController.UploadFacture(Guid dossierId, UploadFactureCommand command) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Controllers\DossiersController.cs:line 251
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BackOffice.Api.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Middleware\ErrorHandlingMiddleware.cs:line 21
2026-02-12 19:44:34.104 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 19:44:34.147 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 19:44:34.254 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 19:44:34.258 +01:00 [INF] Hosting environment: Development
2026-02-12 19:44:34.260 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 19:44:46.780 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 19:44:50.393 +01:00 [INF] Executed DbCommand (114ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 19:44:51.207 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 19:45:42.699 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [dossiers] AS [d]
INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[Id] = @__request_DossierId_0
2026-02-12 19:45:42.709 +01:00 [WRN] Tentative d'upload de facture pour un dossier inexistant : "aaaaaaaa-bbbb-cccc-dddd-eeeeffff0001"
2026-02-12 19:45:42.801 +01:00 [ERR] Échec de l'upload de la facture pour le dossier "aaaaaaaa-bbbb-cccc-dddd-eeeeffff0001"
System.Exception: Dossier introuvable.
   at BackOffice.Application.Features.Dossiers.Commands.UploadFacture.UploadFactureCommandHandler.Handle(UploadFactureCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\UploadFacture\UploadFactureCommandHandler.cs:line 43
2026-02-12 19:45:43.028 +01:00 [ERR] Une exception non gérée a été interceptée.
System.Exception: Dossier introuvable.
   at BackOffice.Application.Features.Dossiers.Commands.UploadFacture.UploadFactureCommandHandler.Handle(UploadFactureCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\UploadFacture\UploadFactureCommandHandler.cs:line 43
   at BackOffice.Application.Features.Dossiers.Commands.UploadFacture.UploadFactureCommandHandler.Handle(UploadFactureCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\UploadFacture\UploadFactureCommandHandler.cs:line 103
   at BackOffice.Api.Controllers.DossiersController.UploadFacture(Guid dossierId, UploadFactureCommand command) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Controllers\DossiersController.cs:line 251
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BackOffice.Api.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api\Middleware\ErrorHandlingMiddleware.cs:line 21
2026-02-12 19:54:14.596 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [s].[Id], [s].[Code], [s].[Libelle]
FROM [dossiers] AS [d]
INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
WHERE [d].[Id] = @__request_DossierId_0
2026-02-12 19:54:14.838 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (Size = -1) (DbType = Binary), @p4='?' (Size = 12), @p5='?' (Size = 512), @p6='?' (DbType = Guid), @p7='?' (Size = 120), @p8='?' (Size = 1) (DbType = Byte), @p9='?' (Size = 60), @p10='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [documentsDossiers] ([Id], [DateCreation], [DateModification], [Donnees], [Extension], [FilePath], [IdDossier], [Nom], [Type], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2026-02-12 19:54:14.876 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__eventTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Code], [a].[Libelle]
FROM [adminEvenementsTypes] AS [a]
WHERE [a].[Code] = @__eventTypeCode_0
2026-02-12 19:54:14.927 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?' (DbType = Guid), @p13='?' (Size = 4000), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Id], [DateCreation], [DateEnvoi], [DateModification], [EntityId], [IsBroadcast], [IsRead], [Message], [ProfilCode], [TargetUrl], [Title], [Type], [UserId], [UtilisateurCreation], [UtilisateurModification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-12 20:26:17.935 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification]
FROM [dossiers] AS [d]
WHERE [d].[Id] = @__request_DossierId_0
2026-02-12 20:26:18.001 +01:00 [ERR] Échec du changement de statut pour le dossier "b784cf59-25b9-4cb5-b7e5-a07ea1c4b56a"
System.Exception: Dossier introuvable.
   at BackOffice.Application.Features.Dossiers.Commands.ChangeStatus.ChangeDossierStatusCommandHandler.Handle(ChangeDossierStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\ChangeStatus\ChangeDossierStatusCommandHandler.cs:line 43
2026-02-12 20:26:28.288 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 20:26:28.522 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 20:26:56.782 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification]
FROM [dossiers] AS [d]
WHERE [d].[Id] = @__request_DossierId_0
2026-02-12 20:26:56.821 +01:00 [ERR] Échec du changement de statut pour le dossier "b784cf59-25b9-4cb5-b7e5-a07ea1c4b56a"
System.Exception: Dossier introuvable.
   at BackOffice.Application.Features.Dossiers.Commands.ChangeStatus.ChangeDossierStatusCommandHandler.Handle(ChangeDossierStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\ChangeStatus\ChangeDossierStatusCommandHandler.cs:line 43
2026-02-12 20:27:00.954 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification]
FROM [dossiers] AS [d]
WHERE [d].[Id] = @__request_DossierId_0
2026-02-12 20:27:01.026 +01:00 [ERR] Échec du changement de statut pour le dossier "b784cf59-25b9-4cb5-b7e5-a07ea1c4b56a"
System.Exception: Dossier introuvable.
   at BackOffice.Application.Features.Dossiers.Commands.ChangeStatus.ChangeDossierStatusCommandHandler.Handle(ChangeDossierStatusCommand request, CancellationToken cancellationToken) in D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Application\Features\Dossiers\Commands\ChangeStatus\ChangeDossierStatusCommandHandler.cs:line 43
2026-02-12 20:42:18.979 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [dossiers] AS [d]
2026-02-12 20:42:19.086 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-12 20:42:19.171 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[DateOuverture], [d0].[IdAgentInstructeur], [d0].[IdClient], [d0].[IdModeReglement], [d0].[IdStatut], [d0].[Libelle], [d0].[Numero], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [c].[Id], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation], [c].[DateModification], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation], [c].[UtilisateurModification], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id], [s].[Code], [s].[Libelle], [s1].[Id], [s1].[ContactEmail], [s1].[ContactNom], [s1].[DateCreation], [s1].[DateModification], [s1].[Description], [s1].[Equipement], [s1].[EstHomologable], [s1].[Fabricant], [s1].[IdCategorie], [s1].[IdDossier], [s1].[IdMotifRejet], [s1].[IdProposition], [s1].[IdStatut], [s1].[Marque], [s1].[Modele], [s1].[NumeroDemande], [s1].[PrixUnitaire], [s1].[QuantiteEquipements], [s1].[Remise], [s1].[Type], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Code], [s1].[Libelle], [s1].[Id1], [s1].[Code0], [s1].[DateCreation0], [s1].[DateModification0], [s1].[FormuleHomologation], [s1].[FraisControle], [s1].[FraisEtude], [s1].[FraisHomologation], [s1].[FraisHomologationParLot], [s1].[FraisHomologationQuantiteParLot], [s1].[Libelle0], [s1].[QuantiteReference], [s1].[Remarques], [s1].[TypeClient], [s1].[TypeEquipement], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[Id2], [s1].[DateCreation1], [s1].[DateModification1], [s1].[Donnees], [s1].[Extension], [s1].[FilePath], [s1].[IdDemande], [s1].[Nom], [s1].[UtilisateurCreation1], [s1].[UtilisateurModification1]
FROM (
    SELECT [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification]
    FROM [dossiers] AS [d]
    ORDER BY [d].[DateCreation] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d0]
INNER JOIN [clients] AS [c] ON [d0].[IdClient] = [c].[Id]
INNER JOIN [statuts] AS [s] ON [d0].[IdStatut] = [s].[Id]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c0].[Id] AS [Id1], [c0].[Code] AS [Code0], [c0].[DateCreation] AS [DateCreation0], [c0].[DateModification] AS [DateModification0], [c0].[FormuleHomologation], [c0].[FraisControle], [c0].[FraisEtude], [c0].[FraisHomologation], [c0].[FraisHomologationParLot], [c0].[FraisHomologationQuantiteParLot], [c0].[Libelle] AS [Libelle0], [c0].[QuantiteReference], [c0].[Remarques], [c0].[TypeClient], [c0].[TypeEquipement], [c0].[UtilisateurCreation] AS [UtilisateurCreation0], [c0].[UtilisateurModification] AS [UtilisateurModification0], [d2].[Id] AS [Id2], [d2].[DateCreation] AS [DateCreation1], [d2].[DateModification] AS [DateModification1], [d2].[Donnees], [d2].[Extension], [d2].[FilePath], [d2].[IdDemande], [d2].[Nom], [d2].[UtilisateurCreation] AS [UtilisateurCreation1], [d2].[UtilisateurModification] AS [UtilisateurModification1]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[IdStatut] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c0] ON [d1].[IdCategorie] = [c0].[Id]
    LEFT JOIN [documentsDemandes] AS [d2] ON [d1].[Id] = [d2].[IdDemande]
) AS [s1] ON [d0].[Id] = [s1].[IdDossier]
ORDER BY [d0].[DateCreation] DESC, [d0].[Id], [c].[Id], [s].[Id], [s1].[Id], [s1].[Id0], [s1].[Id1]
2026-02-12 20:52:25.429 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-12 20:52:25.585 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[DateCreation], [s1].[DateModification], [s1].[DateOuverture], [s1].[IdAgentInstructeur], [s1].[IdClient], [s1].[IdModeReglement], [s1].[IdStatut], [s1].[Libelle], [s1].[Numero], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Adresse], [s1].[Bp], [s1].[ChangementMotPasse], [s1].[Code], [s1].[ContactFonction], [s1].[ContactNom], [s1].[ContactTelephone], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Desactive], [s1].[Email], [s1].[IsVerified], [s1].[MotPasse], [s1].[NiveauValidation], [s1].[Pays], [s1].[RaisonSociale], [s1].[RegistreCommerce], [s1].[Remarques], [s1].[TypeClient], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[VerificationCode], [s1].[VerificationTokenExpiry], [s1].[Ville], [s1].[Id1], [s1].[Code0], [s1].[Libelle0], [s1].[Id2], [s1].[Code1], [s1].[DateCreation1], [s1].[DateModification1], [s1].[Libelle1], [s1].[MobileBanking], [s1].[Remarques0], [s1].[UtilisateurCreation1], [s1].[UtilisateurModification1], [c0].[Id], [c0].[commentaire], [c0].[DateCommentaire], [c0].[DateCreation], [c0].[DateModification], [c0].[IdDossier], [c0].[NomInstructeur], [c0].[Proposition], [c0].[UtilisateurCreation], [c0].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[Donnees], [d0].[Extension], [d0].[FilePath], [d0].[IdDossier], [d0].[Nom], [d0].[Type], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [s2].[Id], [s2].[ContactEmail], [s2].[ContactNom], [s2].[DateCreation], [s2].[DateModification], [s2].[Description], [s2].[Equipement], [s2].[EstHomologable], [s2].[Fabricant], [s2].[IdCategorie], [s2].[IdDossier], [s2].[IdMotifRejet], [s2].[IdProposition], [s2].[IdStatut], [s2].[Marque], [s2].[Modele], [s2].[NumeroDemande], [s2].[PrixUnitaire], [s2].[QuantiteEquipements], [s2].[Remise], [s2].[Type], [s2].[UtilisateurCreation], [s2].[UtilisateurModification], [s2].[Id0], [s2].[Code], [s2].[Libelle], [s2].[Id1], [s2].[Id2], [s2].[Id3], [s2].[Id4], [s2].[DateCreation0], [s2].[DateModification0], [s2].[Donnees], [s2].[Extension], [s2].[FilePath], [s2].[IdDemande], [s2].[Nom], [s2].[UtilisateurCreation0], [s2].[UtilisateurModification0], [s2].[Code0], [s2].[DateCreation1], [s2].[DateModification1], [s2].[FormuleHomologation], [s2].[FraisControle], [s2].[FraisEtude], [s2].[FraisHomologation], [s2].[FraisHomologationParLot], [s2].[FraisHomologationQuantiteParLot], [s2].[Libelle0], [s2].[QuantiteReference], [s2].[Remarques], [s2].[TypeClient], [s2].[TypeEquipement], [s2].[UtilisateurCreation1], [s2].[UtilisateurModification1], [s2].[Code1], [s2].[DateCreation2], [s2].[DateModification2], [s2].[Libelle1], [s2].[Remarques0], [s2].[UtilisateurCreation2], [s2].[UtilisateurModification2], [s2].[Code2], [s2].[DateCreation3], [s2].[DateModification3], [s2].[Libelle2], [s2].[UtilisateurCreation3], [s2].[UtilisateurModification3]
FROM (
    SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [c].[Id] AS [Id0], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation] AS [DateCreation0], [c].[DateModification] AS [DateModification0], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation] AS [UtilisateurCreation0], [c].[UtilisateurModification] AS [UtilisateurModification0], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id] AS [Id1], [s].[Code] AS [Code0], [s].[Libelle] AS [Libelle0], [m].[Id] AS [Id2], [m].[Code] AS [Code1], [m].[DateCreation] AS [DateCreation1], [m].[DateModification] AS [DateModification1], [m].[Libelle] AS [Libelle1], [m].[MobileBanking], [m].[Remarques] AS [Remarques0], [m].[UtilisateurCreation] AS [UtilisateurCreation1], [m].[UtilisateurModification] AS [UtilisateurModification1]
    FROM [dossiers] AS [d]
    INNER JOIN [clients] AS [c] ON [d].[IdClient] = [c].[Id]
    INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
    LEFT JOIN [modesReglements] AS [m] ON [d].[IdModeReglement] = [m].[Id]
    WHERE [d].[Id] = @__request_DossierId_0
) AS [s1]
LEFT JOIN [commentaires] AS [c0] ON [s1].[Id] = [c0].[IdDossier]
LEFT JOIN [documentsDossiers] AS [d0] ON [s1].[Id] = [d0].[IdDossier]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c1].[Id] AS [Id1], [m0].[Id] AS [Id2], [p].[Id] AS [Id3], [d2].[Id] AS [Id4], [d2].[DateCreation] AS [DateCreation0], [d2].[DateModification] AS [DateModification0], [d2].[Donnees], [d2].[Extension], [d2].[FilePath], [d2].[IdDemande], [d2].[Nom], [d2].[UtilisateurCreation] AS [UtilisateurCreation0], [d2].[UtilisateurModification] AS [UtilisateurModification0], [c1].[Code] AS [Code0], [c1].[DateCreation] AS [DateCreation1], [c1].[DateModification] AS [DateModification1], [c1].[FormuleHomologation], [c1].[FraisControle], [c1].[FraisEtude], [c1].[FraisHomologation], [c1].[FraisHomologationParLot], [c1].[FraisHomologationQuantiteParLot], [c1].[Libelle] AS [Libelle0], [c1].[QuantiteReference], [c1].[Remarques], [c1].[TypeClient], [c1].[TypeEquipement], [c1].[UtilisateurCreation] AS [UtilisateurCreation1], [c1].[UtilisateurModification] AS [UtilisateurModification1], [m0].[Code] AS [Code1], [m0].[DateCreation] AS [DateCreation2], [m0].[DateModification] AS [DateModification2], [m0].[Libelle] AS [Libelle1], [m0].[Remarques] AS [Remarques0], [m0].[UtilisateurCreation] AS [UtilisateurCreation2], [m0].[UtilisateurModification] AS [UtilisateurModification2], [p].[Code] AS [Code2], [p].[DateCreation] AS [DateCreation3], [p].[DateModification] AS [DateModification3], [p].[Libelle] AS [Libelle2], [p].[UtilisateurCreation] AS [UtilisateurCreation3], [p].[UtilisateurModification] AS [UtilisateurModification3]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[IdStatut] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c1] ON [d1].[IdCategorie] = [c1].[Id]
    LEFT JOIN [motifsRejets] AS [m0] ON [d1].[IdMotifRejet] = [m0].[Id]
    LEFT JOIN [propositions] AS [p] ON [d1].[IdProposition] = [p].[Id]
    LEFT JOIN [documentsDemandes] AS [d2] ON [d1].[Id] = [d2].[IdDemande]
) AS [s2] ON [s1].[Id] = [s2].[IdDossier]
ORDER BY [s1].[Id], [s1].[Id0], [s1].[Id1], [s1].[Id2], [c0].[Id], [d0].[Id], [s2].[Id], [s2].[Id0], [s2].[Id1], [s2].[Id2], [s2].[Id3]
2026-02-12 20:59:10.959 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 20:59:11.003 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 20:59:11.120 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 20:59:11.123 +01:00 [INF] Hosting environment: Development
2026-02-12 20:59:11.128 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 20:59:25.895 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 20:59:29.652 +01:00 [INF] Executed DbCommand (128ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 20:59:30.534 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 21:00:13.459 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-12 21:00:13.604 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[DateCreation], [s1].[DateModification], [s1].[DateOuverture], [s1].[IdAgentInstructeur], [s1].[IdClient], [s1].[IdModeReglement], [s1].[IdStatut], [s1].[Libelle], [s1].[Numero], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Adresse], [s1].[Bp], [s1].[ChangementMotPasse], [s1].[Code], [s1].[ContactFonction], [s1].[ContactNom], [s1].[ContactTelephone], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Desactive], [s1].[Email], [s1].[IsVerified], [s1].[MotPasse], [s1].[NiveauValidation], [s1].[Pays], [s1].[RaisonSociale], [s1].[RegistreCommerce], [s1].[Remarques], [s1].[TypeClient], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[VerificationCode], [s1].[VerificationTokenExpiry], [s1].[Ville], [s1].[Id1], [s1].[Code0], [s1].[Libelle0], [c0].[Id], [c0].[commentaire], [c0].[DateCommentaire], [c0].[DateCreation], [c0].[DateModification], [c0].[IdDossier], [c0].[NomInstructeur], [c0].[Proposition], [c0].[UtilisateurCreation], [c0].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[Donnees], [d0].[Extension], [d0].[FilePath], [d0].[IdDossier], [d0].[Nom], [d0].[Type], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [s2].[Id], [s2].[ContactEmail], [s2].[ContactNom], [s2].[DateCreation], [s2].[DateModification], [s2].[Description], [s2].[Equipement], [s2].[EstHomologable], [s2].[Fabricant], [s2].[IdCategorie], [s2].[IdDossier], [s2].[IdMotifRejet], [s2].[IdProposition], [s2].[IdStatut], [s2].[Marque], [s2].[Modele], [s2].[NumeroDemande], [s2].[PrixUnitaire], [s2].[QuantiteEquipements], [s2].[Remise], [s2].[Type], [s2].[UtilisateurCreation], [s2].[UtilisateurModification], [s2].[Id0], [s2].[Code], [s2].[Libelle], [s2].[Id1], [s2].[Code0], [s2].[DateCreation0], [s2].[DateModification0], [s2].[FormuleHomologation], [s2].[FraisControle], [s2].[FraisEtude], [s2].[FraisHomologation], [s2].[FraisHomologationParLot], [s2].[FraisHomologationQuantiteParLot], [s2].[Libelle0], [s2].[QuantiteReference], [s2].[Remarques], [s2].[TypeClient], [s2].[TypeEquipement], [s2].[UtilisateurCreation0], [s2].[UtilisateurModification0], [s2].[Id2], [s2].[Code1], [s2].[DateCreation1], [s2].[DateModification1], [s2].[Libelle1], [s2].[Remarques0], [s2].[UtilisateurCreation1], [s2].[UtilisateurModification1], [s2].[Id3], [s2].[DateCreation2], [s2].[DateDelivrance], [s2].[DateExpiration], [s2].[DateModification2], [s2].[Donnees], [s2].[Extension], [s2].[IdDemande], [s2].[NumeroSequentiel], [s2].[UtilisateurCreation2], [s2].[UtilisateurModification2], [s2].[VisaReference]
FROM (
    SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [c].[Id] AS [Id0], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation] AS [DateCreation0], [c].[DateModification] AS [DateModification0], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation] AS [UtilisateurCreation0], [c].[UtilisateurModification] AS [UtilisateurModification0], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id] AS [Id1], [s].[Code] AS [Code0], [s].[Libelle] AS [Libelle0]
    FROM [dossiers] AS [d]
    INNER JOIN [clients] AS [c] ON [d].[IdClient] = [c].[Id]
    INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
    WHERE [d].[Id] = @__request_DossierId_0
) AS [s1]
LEFT JOIN [commentaires] AS [c0] ON [s1].[Id] = [c0].[IdDossier]
LEFT JOIN [documentsDossiers] AS [d0] ON [s1].[Id] = [d0].[IdDossier]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c1].[Id] AS [Id1], [c1].[Code] AS [Code0], [c1].[DateCreation] AS [DateCreation0], [c1].[DateModification] AS [DateModification0], [c1].[FormuleHomologation], [c1].[FraisControle], [c1].[FraisEtude], [c1].[FraisHomologation], [c1].[FraisHomologationParLot], [c1].[FraisHomologationQuantiteParLot], [c1].[Libelle] AS [Libelle0], [c1].[QuantiteReference], [c1].[Remarques], [c1].[TypeClient], [c1].[TypeEquipement], [c1].[UtilisateurCreation] AS [UtilisateurCreation0], [c1].[UtilisateurModification] AS [UtilisateurModification0], [m].[Id] AS [Id2], [m].[Code] AS [Code1], [m].[DateCreation] AS [DateCreation1], [m].[DateModification] AS [DateModification1], [m].[Libelle] AS [Libelle1], [m].[Remarques] AS [Remarques0], [m].[UtilisateurCreation] AS [UtilisateurCreation1], [m].[UtilisateurModification] AS [UtilisateurModification1], [a].[Id] AS [Id3], [a].[DateCreation] AS [DateCreation2], [a].[DateDelivrance], [a].[DateExpiration], [a].[DateModification] AS [DateModification2], [a].[Donnees], [a].[Extension], [a].[IdDemande], [a].[NumeroSequentiel], [a].[UtilisateurCreation] AS [UtilisateurCreation2], [a].[UtilisateurModification] AS [UtilisateurModification2], [a].[VisaReference]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[IdStatut] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c1] ON [d1].[IdCategorie] = [c1].[Id]
    LEFT JOIN [motifsRejets] AS [m] ON [d1].[IdMotifRejet] = [m].[Id]
    LEFT JOIN [attestations] AS [a] ON [d1].[Id] = [a].[IdDemande]
) AS [s2] ON [s1].[Id] = [s2].[IdDossier]
ORDER BY [s1].[Id], [s1].[Id0], [s1].[Id1], [c0].[Id], [d0].[Id], [s2].[Id], [s2].[Id0], [s2].[Id1], [s2].[Id2]
2026-02-12 21:09:02.317 +01:00 [INF] Now listening on: https://localhost:7238
2026-02-12 21:09:02.355 +01:00 [INF] Now listening on: http://localhost:5126
2026-02-12 21:09:02.443 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-12 21:09:02.446 +01:00 [INF] Hosting environment: Development
2026-02-12 21:09:02.449 +01:00 [INF] Content root path: D:\CDS\work_space\arpce-homologation-backends-cds\arpce-homologation-backOffice\Arpce.Homologation.BackOffice\BackOffice.Api
2026-02-12 21:09:15.695 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-12 21:09:19.362 +01:00 [INF] Executed DbCommand (168ms) [Parameters=[@__request_Compte_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AdminProfilsId], [a].[ChangementMotPasse], [a].[Compte], [a].[DateCreation], [a].[DateModification], [a].[DerniereConnexion], [a].[Desactive], [a].[IdProfil], [a].[IdUtilisateurType], [a].[MotPasse], [a].[Nom], [a].[Prenoms], [a].[Remarques], [a].[UtilisateurCreation], [a].[UtilisateurModification], [a0].[Id], [a0].[Code], [a0].[DateCreation], [a0].[DateModification], [a0].[Libelle], [a0].[Remarques], [a0].[UtilisateurCreation], [a0].[UtilisateurModification]
FROM [AdminUtilisateurs] AS [a]
LEFT JOIN [adminProfils] AS [a0] ON [a].[IdProfil] = [a0].[Id]
WHERE [a].[Compte] = @__request_Compte_0
2026-02-12 21:09:20.296 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AdminUtilisateurs] SET [DerniereConnexion] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-02-12 21:09:54.422 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-12 21:09:54.565 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[@__request_DossierId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[DateCreation], [s1].[DateModification], [s1].[DateOuverture], [s1].[IdAgentInstructeur], [s1].[IdClient], [s1].[IdModeReglement], [s1].[IdStatut], [s1].[Libelle], [s1].[Numero], [s1].[UtilisateurCreation], [s1].[UtilisateurModification], [s1].[Id0], [s1].[Adresse], [s1].[Bp], [s1].[ChangementMotPasse], [s1].[Code], [s1].[ContactFonction], [s1].[ContactNom], [s1].[ContactTelephone], [s1].[DateCreation0], [s1].[DateModification0], [s1].[Desactive], [s1].[Email], [s1].[IsVerified], [s1].[MotPasse], [s1].[NiveauValidation], [s1].[Pays], [s1].[RaisonSociale], [s1].[RegistreCommerce], [s1].[Remarques], [s1].[TypeClient], [s1].[UtilisateurCreation0], [s1].[UtilisateurModification0], [s1].[VerificationCode], [s1].[VerificationTokenExpiry], [s1].[Ville], [s1].[Id1], [s1].[Code0], [s1].[Libelle0], [s1].[Id2], [s1].[Code1], [s1].[DateCreation1], [s1].[DateModification1], [s1].[Libelle1], [s1].[MobileBanking], [s1].[Remarques0], [s1].[UtilisateurCreation1], [s1].[UtilisateurModification1], [c0].[Id], [c0].[commentaire], [c0].[DateCommentaire], [c0].[DateCreation], [c0].[DateModification], [c0].[IdDossier], [c0].[NomInstructeur], [c0].[Proposition], [c0].[UtilisateurCreation], [c0].[UtilisateurModification], [d0].[Id], [d0].[DateCreation], [d0].[DateModification], [d0].[Donnees], [d0].[Extension], [d0].[FilePath], [d0].[IdDossier], [d0].[Nom], [d0].[Type], [d0].[UtilisateurCreation], [d0].[UtilisateurModification], [s2].[Id], [s2].[ContactEmail], [s2].[ContactNom], [s2].[DateCreation], [s2].[DateModification], [s2].[Description], [s2].[Equipement], [s2].[EstHomologable], [s2].[Fabricant], [s2].[IdCategorie], [s2].[IdDossier], [s2].[IdMotifRejet], [s2].[IdProposition], [s2].[IdStatut], [s2].[Marque], [s2].[Modele], [s2].[NumeroDemande], [s2].[PrixUnitaire], [s2].[QuantiteEquipements], [s2].[Remise], [s2].[Type], [s2].[UtilisateurCreation], [s2].[UtilisateurModification], [s2].[Id0], [s2].[Code], [s2].[Libelle], [s2].[Id1], [s2].[Id2], [s2].[Id3], [s2].[Id4], [s2].[DateCreation0], [s2].[DateModification0], [s2].[Donnees], [s2].[Extension], [s2].[FilePath], [s2].[IdDemande], [s2].[Nom], [s2].[UtilisateurCreation0], [s2].[UtilisateurModification0], [s2].[Code0], [s2].[DateCreation1], [s2].[DateModification1], [s2].[FormuleHomologation], [s2].[FraisControle], [s2].[FraisEtude], [s2].[FraisHomologation], [s2].[FraisHomologationParLot], [s2].[FraisHomologationQuantiteParLot], [s2].[Libelle0], [s2].[QuantiteReference], [s2].[Remarques], [s2].[TypeClient], [s2].[TypeEquipement], [s2].[UtilisateurCreation1], [s2].[UtilisateurModification1], [s2].[Code1], [s2].[DateCreation2], [s2].[DateModification2], [s2].[Libelle1], [s2].[Remarques0], [s2].[UtilisateurCreation2], [s2].[UtilisateurModification2], [s2].[Code2], [s2].[DateCreation3], [s2].[DateModification3], [s2].[Libelle2], [s2].[UtilisateurCreation3], [s2].[UtilisateurModification3], [s2].[Id5], [s2].[DateCreation4], [s2].[DateDelivrance], [s2].[DateExpiration], [s2].[DateModification4], [s2].[Donnees0], [s2].[Extension0], [s2].[IdDemande0], [s2].[NumeroSequentiel], [s2].[UtilisateurCreation4], [s2].[UtilisateurModification4], [s2].[VisaReference]
FROM (
    SELECT TOP(1) [d].[Id], [d].[DateCreation], [d].[DateModification], [d].[DateOuverture], [d].[IdAgentInstructeur], [d].[IdClient], [d].[IdModeReglement], [d].[IdStatut], [d].[Libelle], [d].[Numero], [d].[UtilisateurCreation], [d].[UtilisateurModification], [c].[Id] AS [Id0], [c].[Adresse], [c].[Bp], [c].[ChangementMotPasse], [c].[Code], [c].[ContactFonction], [c].[ContactNom], [c].[ContactTelephone], [c].[DateCreation] AS [DateCreation0], [c].[DateModification] AS [DateModification0], [c].[Desactive], [c].[Email], [c].[IsVerified], [c].[MotPasse], [c].[NiveauValidation], [c].[Pays], [c].[RaisonSociale], [c].[RegistreCommerce], [c].[Remarques], [c].[TypeClient], [c].[UtilisateurCreation] AS [UtilisateurCreation0], [c].[UtilisateurModification] AS [UtilisateurModification0], [c].[VerificationCode], [c].[VerificationTokenExpiry], [c].[Ville], [s].[Id] AS [Id1], [s].[Code] AS [Code0], [s].[Libelle] AS [Libelle0], [m].[Id] AS [Id2], [m].[Code] AS [Code1], [m].[DateCreation] AS [DateCreation1], [m].[DateModification] AS [DateModification1], [m].[Libelle] AS [Libelle1], [m].[MobileBanking], [m].[Remarques] AS [Remarques0], [m].[UtilisateurCreation] AS [UtilisateurCreation1], [m].[UtilisateurModification] AS [UtilisateurModification1]
    FROM [dossiers] AS [d]
    INNER JOIN [clients] AS [c] ON [d].[IdClient] = [c].[Id]
    INNER JOIN [statuts] AS [s] ON [d].[IdStatut] = [s].[Id]
    LEFT JOIN [modesReglements] AS [m] ON [d].[IdModeReglement] = [m].[Id]
    WHERE [d].[Id] = @__request_DossierId_0
) AS [s1]
LEFT JOIN [commentaires] AS [c0] ON [s1].[Id] = [c0].[IdDossier]
LEFT JOIN [documentsDossiers] AS [d0] ON [s1].[Id] = [d0].[IdDossier]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[ContactEmail], [d1].[ContactNom], [d1].[DateCreation], [d1].[DateModification], [d1].[Description], [d1].[Equipement], [d1].[EstHomologable], [d1].[Fabricant], [d1].[IdCategorie], [d1].[IdDossier], [d1].[IdMotifRejet], [d1].[IdProposition], [d1].[IdStatut], [d1].[Marque], [d1].[Modele], [d1].[NumeroDemande], [d1].[PrixUnitaire], [d1].[QuantiteEquipements], [d1].[Remise], [d1].[Type], [d1].[UtilisateurCreation], [d1].[UtilisateurModification], [s0].[Id] AS [Id0], [s0].[Code], [s0].[Libelle], [c1].[Id] AS [Id1], [m0].[Id] AS [Id2], [p].[Id] AS [Id3], [d2].[Id] AS [Id4], [d2].[DateCreation] AS [DateCreation0], [d2].[DateModification] AS [DateModification0], [d2].[Donnees], [d2].[Extension], [d2].[FilePath], [d2].[IdDemande], [d2].[Nom], [d2].[UtilisateurCreation] AS [UtilisateurCreation0], [d2].[UtilisateurModification] AS [UtilisateurModification0], [c1].[Code] AS [Code0], [c1].[DateCreation] AS [DateCreation1], [c1].[DateModification] AS [DateModification1], [c1].[FormuleHomologation], [c1].[FraisControle], [c1].[FraisEtude], [c1].[FraisHomologation], [c1].[FraisHomologationParLot], [c1].[FraisHomologationQuantiteParLot], [c1].[Libelle] AS [Libelle0], [c1].[QuantiteReference], [c1].[Remarques], [c1].[TypeClient], [c1].[TypeEquipement], [c1].[UtilisateurCreation] AS [UtilisateurCreation1], [c1].[UtilisateurModification] AS [UtilisateurModification1], [m0].[Code] AS [Code1], [m0].[DateCreation] AS [DateCreation2], [m0].[DateModification] AS [DateModification2], [m0].[Libelle] AS [Libelle1], [m0].[Remarques] AS [Remarques0], [m0].[UtilisateurCreation] AS [UtilisateurCreation2], [m0].[UtilisateurModification] AS [UtilisateurModification2], [p].[Code] AS [Code2], [p].[DateCreation] AS [DateCreation3], [p].[DateModification] AS [DateModification3], [p].[Libelle] AS [Libelle2], [p].[UtilisateurCreation] AS [UtilisateurCreation3], [p].[UtilisateurModification] AS [UtilisateurModification3], [a].[Id] AS [Id5], [a].[DateCreation] AS [DateCreation4], [a].[DateDelivrance], [a].[DateExpiration], [a].[DateModification] AS [DateModification4], [a].[Donnees] AS [Donnees0], [a].[Extension] AS [Extension0], [a].[IdDemande] AS [IdDemande0], [a].[NumeroSequentiel], [a].[UtilisateurCreation] AS [UtilisateurCreation4], [a].[UtilisateurModification] AS [UtilisateurModification4], [a].[VisaReference]
    FROM [demandes] AS [d1]
    LEFT JOIN [statuts] AS [s0] ON [d1].[IdStatut] = [s0].[Id]
    LEFT JOIN [categoriesEquipements] AS [c1] ON [d1].[IdCategorie] = [c1].[Id]
    LEFT JOIN [motifsRejets] AS [m0] ON [d1].[IdMotifRejet] = [m0].[Id]
    LEFT JOIN [propositions] AS [p] ON [d1].[IdProposition] = [p].[Id]
    LEFT JOIN [documentsDemandes] AS [d2] ON [d1].[Id] = [d2].[IdDemande]
    LEFT JOIN [attestations] AS [a] ON [d1].[Id] = [a].[IdDemande]
) AS [s2] ON [s1].[Id] = [s2].[IdDossier]
ORDER BY [s1].[Id], [s1].[Id0], [s1].[Id1], [s1].[Id2], [c0].[Id], [d0].[Id], [s2].[Id], [s2].[Id0], [s2].[Id1], [s2].[Id2], [s2].[Id3], [s2].[Id4]
